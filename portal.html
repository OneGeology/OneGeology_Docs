<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using the OneGeology Portal &mdash; OneGeology Documentation 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/OneGeology_favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Appendices" href="appendices.html" />
    <link rel="prev" title="Providing Data / Services" href="providingdata.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> OneGeology Documentation
            <img src="_static/Onegeology_logo_large.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="providingdata.html">Providing Data / Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#the-aim-one-service-many-uses">The aim: One service - many uses</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#map-specifications">Map specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#technical-specifications-and-requirements">Technical specifications and requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#level-1-involvement-with-onegeology-web-services">Level 1 involvement with OneGeology web services</a></li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#level-2-involvement-with-onegeology-web-services">Level 2 involvement with OneGeology web services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#cookbooks">Cookbooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#what-is-a-cookbook">What is a cookbook?</a></li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#cookbook-specification">Cookbook specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#support-services">Support services</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#register-your-data-or-service-for-the-portal">Register your data or service for the Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#service-types">Service Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#data-formats">Data formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#data-content">Data content</a></li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#data-preparation">Data preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#scanning-a-paper-map">Scanning a paper map</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#scanning">Scanning</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#step-1">Step 1</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#step-2a">Step 2A</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#step-2b">Step 2B</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#step-2c">Step 2C</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#step-3-stitching">Step 3 ~ Stitching</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#georeferencing-a-scanned-map">Georeferencing a scanned map</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#image-formats-and-transparency">Image formats and transparency</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#the-legend-for-the-scanned-map">The legend for the scanned map</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#lite-schemas">Lite Schemas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geosciml-lite">GeoSciML-Lite</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#contactview-features">ContactView features</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#sheardisplacementstructureview-features">ShearDisplacementStructureView features</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologicunitview-features">GeologicUnitView features</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#boreholeview-features">BoreholeView features</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#earthresourceml-lite">EarthResourceML-Lite</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#mineraloccurrenceview-features">MineralOccurrenceView features</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#commodityresourceview-features">CommodityResourceView features</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#complex-feature-data">Complex Feature Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#mapped-feature-and-geologic-feature">Mapped Feature and Geologic Feature</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#mapped-feature-mapping-frame">Mapped Feature - mapping frame</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#mapped-feature-geometry-shape">Mapped Feature - geometry (shape)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-feature-inspireid">Geologic Feature - inspireId</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-feature-name">Geologic Feature - name</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geologic-age">Geologic Age</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-event-name">Geologic Event - name</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-event-youngernamedage-and-oldernamedage">Geologic Event - youngerNamedAge and olderNamedAge</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-event-eventprocess">Geologic Event - eventProcess</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-event-eventenvironment">Geologic Event - eventEnvironment</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geologic-unit-and-earth-material">Geologic Unit and Earth Material</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-unit-geologic-unit-type">Geologic Unit - geologic unit type</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-unit-composition">Geologic Unit - composition</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#composition-part-role">Composition Part - role</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#composition-part-proportion">Composition Part - proportion</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#composition-part-material">Composition Part - material</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#rock-material-lithology">Rock Material -lithology</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geologic-structure">Geologic Structure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#shear-displacement-structure-faulttype">Shear Displacement Structure - faultType</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#fold-profiletype">Fold - profileType</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geomorphologic-feature">Geomorphologic Feature</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#natural-geomorphologic-feature-naturalgeomorphologicfeaturetype">Natural Geomorphologic Feature - NaturalGeomorphologicFeatureType</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#natural-geomorphologic-feature-activity">Natural Geomorphologic Feature - activity</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#anthropogenic-geomorphologic-feature-anthropogenicgeomorphologicfeaturetype">Anthropogenic Geomorphologic Feature - AnthropogenicGeomorphologicFeatureType</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#thematic-class">Thematic Class</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-feature-classifier">Geologic Feature - classifier</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#borehole">Borehole</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-inspireid">Borehole - inspireId</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-sampledfeature">Borehole - sampledFeature</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-downholegeometry">Borehole - downholeGeometry</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-location-and-elevation">Borehole - location and elevation</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-purpose">Borehole - purpose</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-boreholelength">Borehole - boreholeLength</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#borehole-interval-mappingframe">Borehole Interval - mappingFrame</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#boreholeinterval-geometry-shape">BoreholeInterval - geometry (shape)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#boreholeinterval-specification">BoreholeInterval - specification</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#boreholeinterval-mappedintervalbegin-mappedintervalend">BoreholeInterval - mappedIntervalBegin &amp; mappedIntervalEnd</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geologic-collection">Geologic Collection</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-collection-inspireid">Geologic Collection - inspireId</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologiccollection-name">GeologicCollection - name</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-collection-collectiontype">Geologic Collection - collectionType</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-collection-member">Geologic Collection - member</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#md-metadata-contact">MD_Metadata - contact</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#md-metadata-datestamp">MD_Metadata - dateStamp</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-collection-reference">Geologic Collection - reference</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#documentcitation-name">DocumentCitation - name</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#documentcitation-shortname">DocumentCitation - shortName</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#document-citation-date">Document Citation - date</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#documentcitation-link">DocumentCitation - link</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geologic-collection-beginlifespanversion-endlifespanversion">Geologic Collection - beginLifespanVersion &amp; endLifespanVersion</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#md-dataidentification-abstract">MD_DataIdentification - abstract</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#md-dataidentification-language">MD_DataIdentification - language</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#md-dataidentification-topiccategory">MD_DataIdentification - topicCategory</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#onegeology-profile">OneGeology Profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#ogc-service-level-metadata">OGC service level metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#service-title">Service title</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#service-abstract">Service abstract</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#fees">Fees</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#access-constraints">Access constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#keywords">Keywords</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#contact-information">Contact information</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#data-provider">Data provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#online-resource">Online resource</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#layer-coverage-feature-metadata">Layer / Coverage / Feature metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#wms-layer-and-wcs-coverage-naming">WMS layer and WCS coverage naming</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#geographic-extent">Geographic extent</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#data-owner">Data owner</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#language">Language</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#scale">Scale</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#theme">Theme</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#layer-title-examples">Layer title examples</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#layer-name-examples">Layer name examples</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#inspire-layer-naming-considerations">INSPIRE layer naming considerations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#summary-of-layer-coverage-feature-metadata">Summary of layer/coverage/feature metadata</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#machine-readable-name">Machine readable name</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#human-readable-name">Human readable name</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#abstract">Abstract</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#service-provision-onegeology-profile-layer-keywords">Keywords</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#wms-specific-metadata">WMS Specific Metadata</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#extent">Extent</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#spatial-coordinate-reference-system">Spatial/Coordinate reference system</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#boundingbox">BoundingBox</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#dataurl-optional">DataURL (optional)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#metadataurl-optional">MetadataURL (optional)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#legend-url">Legend url</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#layer-styling-information">Layer styling information</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#wms-getfeatureinfo-response">WMS GetFeatureInfo response</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#core-tc211-iso-19115-metadata">Core TC211/ISO:19115 Metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#id34">GeoSciML</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="providingdata.html#web-services">Web Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#cookbook-example-data">Cookbook example data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geopackage">GeoPackage</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#postgis-data">PostGIS data</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#installing-postgis">Installing PostGIS</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#image-with-world-file">Image with world file</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#shapefile">Shapefile</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#recommended-esri-shapefile-definitions-for-geosciml-lite">Recommended ESRI shapefile definitions for GeoSciML-Lite</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geotiff">GeoTIFF</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#using-geoserver">Using GeoServer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#introduction">Introduction</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#pre-requisites-system-requirements">Pre-requisites / System Requirements</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#software-installation">Software Installation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#assumptions">Assumptions</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#basic-installation">Basic Installation</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#app-schema-plugin-installation">App-schema Plugin Installation</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#inspire-plugin-installation">INSPIRE Plugin Installation</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#database">Database</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#common-setup">Common Setup</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#logging-in">Logging in</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#editing-contact-information-metadata">Editing contact information metadata</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#workspaces">Workspaces</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#example-data">Example Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#simple-wms">Simple WMS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#inspire-extended-capabilities">INSPIRE Extended Capabilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#configuring-a-data-store">Configuring a data store</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#adding-layers-to-a-workspace">Adding layers to a workspace</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#the-data-tab-of-the-edit-layer-page">The Data tab of the Edit Layer page</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#the-publishing-tab-of-the-edit-layer-page">The Publishing tab of the Edit Layer page</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#creating-group-layers">Creating group layers</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#sld-enabled-wms">SLD enabled WMS</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#simple-feature-wfs">Simple Feature WFS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#using-application-schemas-extension">Using application schemas extension</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#create-mapping-file">Create mapping file</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#edit-datastore-xml-file">Edit datastore.xml file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#complex-feature-wfs">Complex Feature WFS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#obtaining-example-configuration">Obtaining example configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#complex-feature-test-requests">Complex Feature Test requests</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#id56">INSPIRE Extended Capabilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#inspire-pre-defined-dataset-download">INSPIRE Pre-defined Dataset Download</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#app-schema-properties">app-schema.properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#data-directory">Data directory</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#workspace-layout">Workspace layout</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#datastore-xml">datastore.xml</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#mapping-files">Mapping files</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#namespaces">Namespaces</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#source-data-store">Source data store</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#target-types">Target types</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#mappings">Mappings</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#gml-id-mapping">gml:id mapping</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#inspireid-mapping">inspireId mapping</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#ordinary-mapping">Ordinary mapping</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#client-properties">Client properties</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#feature-chaining">Feature chaining</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#polymorphism">Polymorphism</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#inspire-geology-theme-schema">INSPIRE Geology Theme Schema</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#wcs">WCS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#exemplar-data-used-in-this-cookbook">Exemplar data used in this cookbook</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#metadata-to-be-used-in-configuring-your-service-and-coverages-layers">Metadata to be used in configuring your service and coverages (layers)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#id64">Stores</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#id65">Layers</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#service-level-metadata">Service level metadata</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#id66">INSPIRE Extended Capabilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#geoserver-troubleshooting">GeoServer troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#using-mapserver">Using MapServer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id70">Software Installation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#installing-ms4w">Installing MS4W</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#configuring-the-exemplar-services">Configuring the exemplar services</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#configuring-your-own-services-using-the-exemplars-as-examples">Configuring your own services using the exemplars as examples</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#installing-and-configuring-apache-http-web-server">Installing and configuring Apache HTTP web server</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#bit-apache-http-server">64-bit Apache HTTP server</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#installing-gisinternals-packages-for-windows">Installing GISInternals packages for Windows</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#id72">Data</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#mapserver-cgi-bin">MapServer cgi-bin</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#installing-mapserver-on-linux-using-ppas">Installing MapServer on Linux using PPAs</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#configuring-mapserver-exemplar-services-on-a-lamp-server">Configuring MapServer exemplar services on a LAMP server</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#alternative-mapserver-configurations">Alternative MapServer configurations</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#mapserver-and-iis">MapServer and IIS</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#compiling-mapserver-on-linux">Compiling MapServer on Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#general-configuration">General configuration</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#adding-alternate-character-set-support">Adding alternate character set support</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#creating-your-own-symbology">Creating your own symbology</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#example-include-files">Example include files</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#debugging-common-errors">Debugging common errors</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#symbol-definition-error">Symbol definition error</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#unknown-identifier">Unknown identifier</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#missing-magic-string">Missing magic string</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#connecting-to-a-database">Connecting to a database</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#wms">WMS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#raster-image-data-exemplar-layer-configuration">Raster image data exemplar (LAYER configuration)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#vector-data-exemplar-layer-configuration">Vector data exemplar (LAYER configuration)</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#configuring-html-query-templates">Configuring HTML query templates</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#debugging-your-requests">Debugging your requests</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#handling-fields-for-which-you-have-no-data">Handling fields for which you have no data</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#using-javascript">Using JavaScript</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#configuring-group-layering">Configuring group layering</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id73">Simple feature WFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id74">WCS</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#inspire-metadata">INSPIRE metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#using-arcgis">Using ArcGIS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id76">WMS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#creating-the-service">Creating the service</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#prepare-the-map-document">Prepare the map document</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#publishing-your-wms">Publishing your WMS</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#edit-the-getcapabilities-documents">Edit the GetCapabilities documents</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#inspire">INSPIRE</a><ul>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#arcgis-server">ArcGIS Server</a></li>
<li class="toctree-l6"><a class="reference internal" href="providingdata.html#inspire-extension">INSPIRE Extension</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#arcgis-server-issues">ArcGIS server issues</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id84">Simple Feature WFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="providingdata.html#id86">WCS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#create-a-map-document">Create a map document</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#publish-the-wcs-service">Publish the WCS service</a></li>
<li class="toctree-l5"><a class="reference internal" href="providingdata.html#edit-the-getcapabilities-document">Edit the GetCapabilities document</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="providingdata.html#using-apache-http-server-as-a-reverse-proxy">Using Apache HTTP server as a reverse proxy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the OneGeology Portal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#viewing-data-registered-in-the-onegeology-portal">Viewing data registered in the OneGeology Portal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#go-to-function">Go To Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viewing-layers-in-different-projections">Viewing layers in different projections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reviewing-external-map-data">Reviewing external map data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exporting-to-keyhole-markup-language-kml">Exporting to Keyhole Markup Language (KML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-and-using-web-map-context-wmc-documents">Creating and using Web Map Context (WMC) documents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#saving-your-context-file">Saving your context file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opening-a-web-map-context-file-in-the-onegeology-portal">Opening a Web Map Context file in the OneGeology Portal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opening-a-wmc-file-in-other-clients">Opening a WMC file in other clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#analysis-tools">Analysis tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#portrayal-services">Portrayal Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">GeoSciML</a></li>
<li class="toctree-l4"><a class="reference internal" href="#earthresourceml-lite">EarthResourceML-Lite</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#statistics">Statistics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#using-onegeology-data">Using OneGeology Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-qgis">Using QGIS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-qgis-to-view-wms">Using QGIS to view WMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-qgis-to-access-simple-feature-wfs">Using QGIS to access simple feature WFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-qgis-to-view-wcs">Using QGIS to view WCS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-esri">Using ESRI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-arccatalog">Using ArcCatalog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wms-service-connection">WMS Service Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wfs-service-connection">WFS Service Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wcs-service-connection">WCS Service Connection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-arcmap">Using ArcMap</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wms-layers">WMS Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wfs-layers">WFS Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wcs-layers">WCS Layers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-arcpro">Using ArcPRO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-udig">Using uDig</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-gaia">Using Gaia</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-nasa-world-wind">Using NASA World Wind</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">Using Dapple</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">Using Google Earth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#google-earth-issues">Google Earth Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#problems-displaying-the-map-layer">Problems displaying the map layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#problems-displaying-a-map-layer-that-spans-the-globe">Problems displaying a map layer that spans the globe</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-mapinfo-professional">Using MapInfo Professional</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#to-add-a-wms-service-to-the-list-of-available-wms-services">To add a WMS service to the list of available WMS services</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-view-wms-service-layers">To view WMS service layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-query-wms-service-layer">To query WMS service layer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixa.html">Converting coordinate system in data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixb.html">Creating MapServer CLASS definitions from ArcView legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixc.html">Creating MapServer CLASS definitions from ARCGIS legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixd.html">Creating MapServer CLASS definitions using QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixe.html">BGS example service map file</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixf.html">WMS 1.3.0 GetCapabilities response from the BGS OneGeology exemplars service</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixg.html">WMS 1.1.1 GetCapabilities response from the BGS OneGeology exemplars service</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixh.html">Using the MS4W Apache http server as a reverse proxy to Tomcat</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixi.html">OneGeology English keyword dictionary picklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixj.html">How to create a Styled Layer Descriptor (SLD) using Arc2Earth</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixk.html">Recommend ESRI shapefile definitions for GeoSciML-Portrayal</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixl.html">Mapping OneGeology-Europe data model to GeoSciML-Portrayal | OneGeology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendices/appendixl.html#mapping-onegeology-europe-geologic-units-to-geosciml-portrayal-geologicunitview-features">Mapping OneGeology-Europe GEOLOGIC UNITS to GeoSciML-Portrayal GeologicUnitView features</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendices/appendixl.html#mapping-onegeology-europe-geologic-units-to-geosciml-portrayal-sheardisplacementstructureview-features">Mapping OneGeology-Europe GEOLOGIC UNITS to GeoSciML-Portrayal ShearDisplacementStructureView features</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendices/appendixl.html#mapping-onegeology-europe-geologic-units-to-geosciml-portrayal-contactview-features">Mapping OneGeology-Europe GEOLOGIC UNITS to GeoSciML-Portrayal ContactView features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendices/appendixL_1.html">Considerations for converting a MapServer based OneGeology-Europe service | OneGeology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OneGeology Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Using the OneGeology Portal</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/portal.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-the-onegeology-portal">
<h1>Using the OneGeology Portal<a class="headerlink" href="#using-the-onegeology-portal" title="Permalink to this headline"></a></h1>
<p>The OneGeology portal allows you to discover all the services that have been registered with OneGeology. You can view all those that return image output on a map of the world and can query the data behind those that provide that ability. Also some services allow you to highlight areas satisfying some simple query criteria on the age or lithology of mapped geological units.</p>
<p><a class="reference external" href="http://portal.onegeology.org">http://portal.onegeology.org</a></p>
<ul class="simple">
<li><p>The portal can be accessed using most internet browsers.</p></li>
<li><p>Basic map data is called a WMS (Web Map Service)</p></li>
<li><p>Detailed map data and information in the OneGeology Portal is called a WFS (Web Feature Service) which are types of ‘GeoSciML’, a computer interoperable data exchange language.</p></li>
<li><p>This language is designed in a format that can be used in a wide variety of desktop programs such as ArcMap, Gaia from Carbontools, and NASA World Wind.</p></li>
<li><p>OneGeology aims to use Free and Open Source software wherever possible.</p></li>
<li><p>All OneGeology data can be viewed via the Portal: <a class="reference external" href="http://portal.onegeology.org">http://portal.onegeology.org</a></p></li>
<li><p>OneGeology aims to use Free and Open Source software wherever possible.</p></li>
<li><p>The data is “served” directly from the provider organisation.</p></li>
<li><p>The provider organisation retains full ownership and responsibility and is able to change or modify data whenever necessary.</p></li>
</ul>
<p>The Portal has the following functions:</p>
<ul class="simple">
<li><p>Zoom</p></li>
<li><p>Pan</p></li>
<li><p>Get Information tool</p></li>
<li><p>Help menu</p></li>
<li><p>multi-layer map view,</p></li>
<li><p>opacity selection,</p></li>
<li><p>legend viewer,</p></li>
<li><p>details of provider organisation / geological survey</p></li>
<li><p>web link URL to the provider survey</p></li>
<li><p>brief description of the data layer</p></li>
<li><p>conditions of use information for each layer</p></li>
</ul>
<p>OneGeology makes data from geological data providers around the world accessible to those who would like to see and use it. The majority of this data is the type that is portrayed on traditional geological maps. There are increasing amounts with different geologically related types of data such as geophysics, boreholes and hydrogeology. This data is made available by means of Open GeoSpatial Consortium <a class="reference external" href="http://www.opengeospatial.org">OGC</a> standard web services that can be accessesed by a number of free and commercial clients. Currently OneGeology makes use of three OGC standards: Web Map Service <a class="reference external" href="http://www.opengeospatial.org/standards/wms">WMS</a>, Web Feature Service <a class="reference external" href="http://www.opengeospatial.org/standards/wfs">WFS</a> and Web Coverage Service <a class="reference external" href="http://www.opengeospatial.org/standards/wcs">WCS</a>. These different service standards define different kinds of capability for examining the data.</p>
<p>WMS provides the ability to see a map image projected to its correct geographical location in a number of map projections. This will usually be accompanied by a legend which explains the symbology used in the map. Commonly, many WMS also provide the ability to select a point on the map and get a summary in text or other format of data values for that point. The majority of OneGeology services are WMS. A small number of these WMS also provide the ability to change the symbology of the map depending on the underlying data (e.g. to highlight formations of a particular age). These are called <a class="reference external" href="http://www.opengeospatial.org/standards/sld">SLD</a> enabled WMS.</p>
<p>WFS provide the ability to query a service based on spatial and other criteria and return the matching data in a <a class="reference external" href="http://www.opengeospatial.org/standards/gml">GML</a> format and maybe other formats as well. It assumes the data has been structured as a collection of features with spatial and other, possibly complex properties. OneGeology is focussed on two standard formats for data exchange: <a class="reference external" href="http://www.geosciml.org">GeoSciML</a> and <a class="reference external" href="http://www.earthresourceml.org/">ERML</a>. The data available from a given WFS may be visually portrayed in one or more related WMS layers.</p>
<p>WCS also provices the ability to return matching data based on spatial and other criteria but the data is structured as coverages where values of some fixed set of properties are defined for each point over some spatial domain. Although theoretically different kinds of division of spatial domain are possible, currently all coverages are based on regular grids. The properties are also simple whether numerical or categorical. As image formats generally specify colour values at regular grid cells then a WCS may return coverages that can be viewed as an image directly as well as data formats that need to be processed by some application.</p>
<p>In simple terms, currently WFS are used for spatial data stored in some vector format and WCS for data stored in a raster gridded format.</p>
<section id="viewing-data-registered-in-the-onegeology-portal">
<h2>Viewing data registered in the OneGeology Portal<a class="headerlink" href="#viewing-data-registered-in-the-onegeology-portal" title="Permalink to this headline"></a></h2>
<p>The OneGeology Portal is found at: <a class="reference external" href="http://portal.onegeology.org/">http://portal.onegeology.org/</a> and is accessible as either an English (the default) or French language service.</p>
<p>You will need to use Internet Explorer 6 and above, Firefox 2 and above or recent versions of Safari, Opera, and Chrome. You will need to enable JavaScript and allow pop-ups.</p>
<blockquote>
<div></div></blockquote>
<p>When you open the OneGeology Portal you get a map of the world, the <a class="reference external" href="http://visibleearth.nasa.gov/view_detail.php?id=7105">Blue Marble: Next Generation+Topo+Bathy (Terra/MODIS)</a>. By default you now also get some automatically selected geology map layers, depending on the scale you are zoomed into. For example, at full map extent you now get the ‘<em>World CGMW 1:50M Geological Units Onshore</em>’ map.</p>
<figure class="align-default" id="id12">
<a class="reference internal image-reference" href="_images/newsiteR.jpg"><img alt="Default display of the OneGeology Portal, with automatically selected geology layers" src="_images/newsiteR.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Default display of the OneGeology Portal, with automatically selected geology layers image</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You may at any time turn off the automatically selected layers by unticking the option ‘<em>Automatically displayed layers depending on scale and location</em>’ in the top right of the browser window.</p>
<p>The overview window in the bottom right corner of the map indicates the area of the globe you are currently looking at in the map window, by means of a red outline map superimposed on the global map. For example in the above map the red outline is shown for the whole globe, but in the below map the red box is located in the Southern Ocean.</p>
<figure class="align-default" id="id13">
<a class="reference internal image-reference" href="_images/overviewWinr.jpg"><img alt="The overview window shows where you are on the globe" src="_images/overviewWinr.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">The overview window shows where you are on the globe</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id14">
<a class="reference internal image-reference" href="_images/AddLayer.jpg"><img alt="Click the Add OneGeology map layers icon to open the OneGeology Portal catalogue map layer listing" src="_images/AddLayer.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Add OneGeology map layers icon</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To view any other registered geology maps you need to click on the ‘<em>Add OneGeology map layers</em>’ icon to open the OneGeology Portal catalogue listing.</p>
<figure class="align-default" id="id15">
<a class="reference internal image-reference" href="_images/newsiteAddLayersR.jpg"><img alt="OneGeology Portal catalogue map layers listed by Geographic area. Use the options in this window to control which maps are displayed, and how they are displayed" src="_images/newsiteAddLayersR.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">OneGeology Portal catalogue map layers listed by Geographic area. Use the options in this window to control which maps are displayed, and how they are displayed</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Click on the + buttons to expand the levels. Select a map by clicking on the box to the left of the map you wish to view. A tick will appear.</p>
<p>Select all the map layers you wish to view at this time before closing the catalogue listing. The selected maps should then be visible. You can add other layers later on if you desire.</p>
<p>You may navigate around the map using the GIS tools found at the top of the page. The functions of these tools is as follows (from left to right):</p>
<figure class="align-default" id="id16">
<a class="reference internal image-reference" href="_images/IconsGIS.jpg"><img alt="GIS tools" src="_images/IconsGIS.jpg" style="height: 915px;" /></a>
<figcaption>
<p><span class="caption-text">GIS tools</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Zoom in — click on this image and then click on the world background map to zoom in centred on the clicked location. Click and drag a rectangle to zoom to a specific area.</p></li>
<li><p>Zoom out — click on this image and then click on the world background map to zoom out centred on the clicked location. Click and drag a rectangle to zoom out from a specific area</p></li>
<li><p>View full global extent — click this image to start again with a view of the full world background map.</p></li>
<li><p>Pan by clicking and dragging the map to move — click this image and then click and drag on the map to move to a different area (north, west, etc)</p></li>
<li><p>Return back to previous map view</p></li>
<li><p>If you have gone back to a previous view, you may use this tool to go forward.</p></li>
<li><p>Use this tool to get more information about the active map layers (this is termed a GetFeatureInfo request). Select the tool and click the map to open up a new window with detailed information about the geology at that point. The information returned and format of the information varies from map to map and layer to layer dependant upon how much information the provider organization wishes to display and the capabilities of the service.</p></li>
</ul>
<figure class="align-default" id="id17">
<a class="reference internal image-reference" href="_images/GetFInfoR.jpg"><img alt="Example of information that may be retrieved using the information tool" src="_images/GetFInfoR.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of information that may be retrieved using the information tool</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id18">
<a class="reference internal image-reference" href="_images/ViewProps.jpg"><img alt="Active Layers Properties icon" src="_images/ViewProps.jpg" style="width: 50px; height: 50px;" /></a>
<figcaption>
<p><span class="caption-text">Active Layers Properties icon</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To view metadata about the map layers and to change the way the layers are displayed you need to Click on the ‘<em>Active Layers Properties</em>’ icon. This will open a list of all the map layers that you have selected to be viewed in the OneGeology Portal; it will now also display all the map layers that have been automatically selected.</p>
<blockquote>
<div><figure class="align-default" id="id19">
<a class="reference internal image-reference" href="_images/activelayers1r.jpg"><img alt="Active layers in a OneGeology Portal session" src="_images/activelayers1r.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Active layers in a OneGeology Portal session</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>Within this dialogue menu you can manage the individual layers in the following ways (looking at the icons from left to right):</p>
<blockquote>
<div><figure class="align-default" id="id20">
<a class="reference internal image-reference" href="_images/activelayers1detail.jpg"><img alt="Tools to manage the active layers" src="_images/activelayers1detail.jpg" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Tools to manage the active layers</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Move the map layer up (so it lies above other layers and may obscure them), and move the map layer down (so it lies beneath other layers and may be obscured by them).  In the figure we can see that we cannot move the SUR TNO 1M SLT further up because the up away is greyed out.</p></li>
<li><p>Show or hide the map layer.</p></li>
<li><p>Change the opacity of the map layer (use the slider rule to change the % value to make underlying maps visible) so that it is possible to see through a layer to underlying layers where they overlap</p></li>
<li><p>Zoom to the extent of the map layer to make that particular map layer fill the centre of the map browser.</p></li>
<li><p>Delete the map layer from the view (you can add it back again later).</p></li>
</ul>
</div></blockquote>
<p>Note the <em>i</em> icon has no actual function, it just exists to inform you whether the layer is queryable, that is whether you can perform a GetFeatureInfo request on it and get back some information.  Note too, in the above figure that one of the layers is shown to be greyed out.  A greyed out layer indicates that the layer (such as PER INGEMMET 1:1M Faults, is not visible at the selected map scale.  Finally note we can show or hide all the automatically selected layers by unticking the ‘<em>Automatically displayed layers depending on scale and location</em>’ option at the top of the dialogue window.</p>
<blockquote>
<div><figure class="right align-default" id="id21">
<a class="reference internal image-reference" href="_images/9.jpg"><img alt="Layer viewed with 30% opacity" src="_images/9.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Layer viewed with 30% opacity</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="left align-default" id="id22">
<a class="reference internal image-reference" href="_images/8.jpg"><img alt="Layer viewed with 100% opacity" src="_images/8.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Layer viewed with 100% opacity</span><a class="headerlink" href="#id22" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>To find out further information about any map layer you can click the arrow to right of the layer title; inforamtion found here is extracted from the service GetCapabilites response document and includes information such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>The data owner</p></li>
<li><p>The service title</p></li>
<li><p>The legend of the map layer</p></li>
<li><p>Information about the layer data and other digital data services of the data provider</p></li>
<li><p>TC211/ISO 19115:2003 or FGDC metadata for the layer</p></li>
<li><p>The service URL (you can use this URL to view the OneGeology WMS layer in any WMS client as described in later sections).</p></li>
</ul>
<figure class="align-default" id="id23">
<a class="reference internal image-reference" href="_images/GetCapInfoR.jpg"><img alt="Example of GetCapabilities data that may be obtained from the Active Layer properties dialogue, with pop-up legend from the Legend link" src="_images/GetCapInfoR.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of GetCapabilities data that may be obtained from the Active Layer properties dialogue, with pop-up legend from the Legend link</span><a class="headerlink" href="#id23" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id24">
<a class="reference internal image-reference" href="images/GetCapInfoR2.jpg"><img alt="Example of GetCapabilities data that may be obtained from the Active Layer properties dialogue, with pop-up legend from the Legend link" src="images/GetCapInfoR2.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of GetCapabilities data that may be obtained from the Active Layer properties dialogue, with pop-up legend from the Legend link</span><a class="headerlink" href="#id24" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This (above) information is harvested automatically by the OneGeology Portal client software from the GetCapabilities response document of the WMS.</p>
</div></blockquote>
<section id="go-to-function">
<h3>Go To Function<a class="headerlink" href="#go-to-function" title="Permalink to this headline"></a></h3>
<blockquote>
<div><figure class="align-default" id="id25">
<a class="reference internal image-reference" href="images/searchlocation.jpg"><img alt="The Go To icon" src="images/searchlocation.jpg" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">The Go To icon</span><a class="headerlink" href="#id25" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Click in the Search Location box to to enter a place name, select from returned options area to zoom to.</p>
<p>In the first example (below) we enter Dominica in the ‘Search Location’ text box.  This opens a drop down window that shows all the matches for Dominica in the OneGeology Portal gazeteer.  Select the place name you want by clicking on it and the OneGeology Portal will zoom to that location.  Note the OneGeology Portal only zooms to the area, it doesn’t necessarily open any available geology layers in that area.</p>
<figure class="align-default" id="id26">
<a class="reference internal image-reference" href="_images/gotodomTr.jpg"><img alt="Using the Go To functionality to zoom to an area (the Dominican Republic) by entering a search string" src="_images/gotodomTr.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Using the Go To functionality to zoom to an area (the Dominican Republic) by entering a search string ~ Dominica</span><a class="headerlink" href="#id26" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="viewing-layers-in-different-projections">
<h3>Viewing layers in different projections<a class="headerlink" href="#viewing-layers-in-different-projections" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>The portal allows you to select other projections to view the map layers.  The projections supported by the portal are:</p>
<dl class="simple">
<dt>EPSG:3031</dt><dd><p>Antarctic Polar Stereographic (WGS84) <a class="reference external" href="http://spatialreference.org/ref/epsg/3031/">http://spatialreference.org/ref/epsg/3031/</a></p>
</dd>
<dt>EPSG:3034</dt><dd><p>Lambert Conformal Conic (ETRS89) <a class="reference external" href="http://spatialreference.org/ref/epsg/3034/">http://spatialreference.org/ref/epsg/3034/</a></p>
</dd>
<dt>EPSG:3413</dt><dd><p>NSIDC Sea Ice Polar Stereographic North (WGS84) <a class="reference external" href="http://www.spatialreference.org/ref/epsg/3413/">http://www.spatialreference.org/ref/epsg/3413/</a></p>
</dd>
<dt>EPSG:3857</dt><dd><p>Web Mercator (WGS84) <a class="reference external" href="http://spatialreference.org/ref/sr-org/7483/">http://spatialreference.org/ref/sr-org/7483/</a></p>
</dd>
<dt>EPSG:4258</dt><dd><p>2D Latitude / Longitude (ETRS89) <a class="reference external" href="http://www.spatialreference.org/ref/epsg/4258/">http://www.spatialreference.org/ref/epsg/4258/</a></p>
</dd>
<dt>EPSG:4326</dt><dd><p>2D Latitude / Longitude (WGS84) <a class="reference external" href="http://spatialreference.org/ref/epsg/4326/">http://spatialreference.org/ref/epsg/4326/</a></p>
</dd>
</dl>
<p>The default projection to view layers in the portal is <em>2D Latitude / Longitude (WGS84)</em> or EPSG:4326.  All layers in the portal <strong>must</strong> support this projection as part of their service.  To select another projection you must use the list at the bottom of the main portal window.  The current projection is shown in bold in the list, so for example in the below figure the active projection at the time of clicking the list was <strong>NSIDC Sea Ice Polar Stereographic North (WGS84)</strong>.</p>
<figure class="align-default" id="id27">
<a class="reference internal image-reference" href="_images/ChangingProjection.jpg"><img alt="Projections are selected from the list at the bottom of the main portal window" src="_images/ChangingProjection.jpg" style="width: 403px; height: 162px;" /></a>
<figcaption>
<p><span class="caption-text">Projections are selected from the list at the bottom of the main portal window</span><a class="headerlink" href="#id27" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Whilst all layers in the portal must support 2D Latitude / Longitude (WGS84), other projections are optional.  When you choose to change to any projection other the default, you should expect that some layers will not support the newly selected projection; layers that do not support the selected projection are deselected (so the portal will not make any requests to them for map layers) and shown in the active layers properties window with a yellow warning triangle.</p>
<figure class="align-default" id="id28">
<a class="reference internal image-reference" href="_images/LayersWithoutProjectionRequested.jpg"><img alt="Active layers that do not support the projection are deselected and shown with a warning triangle" src="_images/LayersWithoutProjectionRequested.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Active layers that do not support the projection are deselected and shown with a warning triangle</span><a class="headerlink" href="#id28" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In many cases viewing the OneGeology layers in the default projection is sufficient, but in some cases, for example when you are dealing with layers close to the poles, a differnt projection better shows the data.  For example compare the two images below showing map layers for Antarctica and surrounding regions.  In the first example we have the default projection that shows Antarctica as a distorted strip of land at the  bottom of the flattened globe.</p>
<figure class="align-default" id="id29">
<a class="reference internal image-reference" href="_images/defaultViewSouthernHemisphere.jpg"><img alt="Map layers from the Southern hemisphere showing in the the standard 2D Latitude / Longitude (WGS84) ~ EPSG:4326 projection" src="_images/defaultViewSouthernHemisphere.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Map layers from the Southern hemisphere showing in the the standard 2D Latitude / Longitude (WGS84) ~ EPSG:4326 projection</span><a class="headerlink" href="#id29" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the second example, we have the same map layers shown in <em>the Antarctic Polar Stereographic (WGS84)</em> projection that shows Antarctica as it should be, as a single land mass.  Note that the portal uses a different backdrop for this projection than that used for the default projection, namely the <a class="reference external" href="https://lima.usgs.gov">Landsat Image Mosaic of Antarctica (LIMA).</a> Note too that this LIMA backdrop does not extend much further than the Antarctica land mass, so whilst there are map layers that support this projection other than Antarctica, for example the Falkland Islands (Malvinas) layers, there is currently no backdrop for these map layer extents.</p>
<figure class="align-default" id="id30">
<a class="reference internal image-reference" href="_images/Antarctic-projection-example2.jpg"><img alt="Map layers from the Southern hemisphere showing in the Antarctic Polar Stereographic (WGS84) ~ EPSG:3031 projection" src="_images/Antarctic-projection-example2.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Map layers from the Southern hemisphere showing in the Antarctic Polar Stereographic (WGS84) ~ EPSG:3031 projection</span><a class="headerlink" href="#id30" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Examples of other map layers in other projections are shown below:</p>
<p>NSIDC Sea Ice Polar Stereographic North (WGS84)</p>
<figure class="align-default" id="id31">
<a class="reference internal image-reference" href="_images/NSIDC-projection-exampleCropped.jpg"><img alt="Map layer displayed in NSIDC Sea Ice Polar Stereographic North (WGS84) projection" src="_images/NSIDC-projection-exampleCropped.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Map layer displayed in NSIDC Sea Ice Polar Stereographic North (WGS84) projection</span><a class="headerlink" href="#id31" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Web Mercator (WGS84)</p>
<figure class="align-default" id="id32">
<a class="reference internal image-reference" href="_images/SphericalMercator-example.jpg"><img alt="Map layers displayed in Web Mercator (WGS84) projection" src="_images/SphericalMercator-example.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Map layers displayed in Web Mercator (WGS84) projection</span><a class="headerlink" href="#id32" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>2D Latitude / Longitude (ETRS89)</p>
<figure class="align-default" id="id33">
<a class="reference internal image-reference" href="_images/ETRS89-2D-example.jpg"><img alt="Map layers displayed in 2D Latitude / Longitude (ETRS89) projection" src="_images/ETRS89-2D-example.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Map layers displayed in 2D Latitude / Longitude (ETRS89) projection</span><a class="headerlink" href="#id33" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>Note that when using the ETRS-89 based projections you will not be able to zoom out (or pan the map) wider than than the intended extent of the projection.</p>
</section>
</section>
<section id="reviewing-external-map-data">
<h2>Reviewing external map data<a class="headerlink" href="#reviewing-external-map-data" title="Permalink to this headline"></a></h2>
<blockquote>
<div><p>You may also use the OneGeology Portal client to review other WMS services, either as check of your own service before requesting that it is added to the OneGeology Portal catalogue, or to view any other data services that you discover.</p>
<p>You add additional WMS services using the ‘Add external layers’ option and adding the service URL (without any request parameters).</p>
<figure class="align-default" id="id34">
<a class="reference internal image-reference" href="_images/ViewExternals1r.jpg"><img alt="Using the Add external layers functionality.  Use this to review your own map service before requesting it to be formally added to the OneGeology Portal" src="_images/ViewExternals1r.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Using the Add external layers functionality.  Use this to review your own map service before requesting it to be formally added to the OneGeology Portal</span><a class="headerlink" href="#id34" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Select the layers you want to display in the OneGeology Portal by ticking the boxes on the left of the layer name.  You can also select the WMS version (i.e. either version 1.3.0 or version 1.1.1) you would like to view (or test), by using the radio buttons on the right of the layer name.</p>
<p>A service or layer added using the external layers functionality is only visible to you, and is only available for your active session.</p>
</div></blockquote>
</section>
<section id="exporting-to-keyhole-markup-language-kml">
<h2>Exporting to Keyhole Markup Language (KML)<a class="headerlink" href="#exporting-to-keyhole-markup-language-kml" title="Permalink to this headline"></a></h2>
<blockquote>
<div><p><em>KML</em> is a file format used to display geographic data in an Earth browser such as Google Earth, Google Maps. It is an XML–based language schema for expressing geographic annotation and visualization on existing or future Web-based, two-dimensional maps and  three-dimensional Earth browsers. KML was developed for use with Google Earth, which was originally named Keyhole Earth Viewer. It was created by Keyhole Inc, which was acquired by Google in 2004, but is now an internationally recognized standard by the Open Geospatial Consortium (OGC) in it’s version 2.2 form.</p>
<p>You may export the contents of any active map service to KML to allow you to view those layers in Google Earth (or other applications that support the KML format).</p>
<ul class="simple">
<li><p>Click the Save KML context button</p></li>
<li><p>Enter a file name of your choice that you will save the KML as, and click OK.</p></li>
</ul>
<figure class="align-default" id="id35">
<a class="reference internal image-reference" href="_images/Save2KML1r.jpg"><img alt="Using the Export to KML option to view your map in Google Earth" src="_images/Save2KML1r.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Using the Export to KML option to view your map in Google Earth</span><a class="headerlink" href="#id35" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Once the KML file has been created you can save it or choose to immediately open the data in Google Earth.</p>
</div></blockquote>
</section>
<section id="creating-and-using-web-map-context-wmc-documents">
<h2>Creating and using Web Map Context (WMC) documents<a class="headerlink" href="#creating-and-using-web-map-context-wmc-documents" title="Permalink to this headline"></a></h2>
<blockquote>
<div><p>Saving your current OneGeology Portal view as a Web Map Context document is an easy way to save your personal data view and allows you to open the same view again at a later date.  This avoids the need to keep adding layers to the view each time you enter the OneGeology Portal. This is most useful if viewing a large number of layers at any one time.</p>
<p>This also allows you to share your map session with other people, either by giving them a copy of the file, or by making the file available on a public web server.</p>
<p>‘<a class="reference external" href="http://www.opengeospatial.org/standards/wmc">Web Map Context Documents</a>’ is an OGC specification and any WMC document created in the OneGeology Portal should be usable in a number of client software applications.</p>
</div></blockquote>
<section id="saving-your-context-file">
<h3>Saving your context file<a class="headerlink" href="#saving-your-context-file" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Click the Save WMC context button to create a WMC document</p></li>
<li><p>Enter a file name of your choice that you will save the WMC as, and click OK.</p></li>
</ul>
<p>Note when naming your Web Map Context document(which is in XML format) you should provide only the name and not the file ending, for example, if you name a file ‘<em>IrelandGeology</em>’ in the dialog box the resultant file will be called ‘<em>IrelandGeology.xml</em>’. If you do add a file ending you will still get an .xml file suffix, for example if you name your file ‘<em>IrelandGeology.wmc</em>’ the resultant file will be called ‘<em>IrelandGeology.wmc.xml</em>’</p>
<figure class="align-default" id="id36">
<a class="reference internal image-reference" href="_images/Save2wmcR.jpg"><img alt="Using the Save WMC context option to save your map settings" src="_images/Save2wmcR.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Using the Save WMC context option to save your map settings</span><a class="headerlink" href="#id36" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This will create a Web Map Context document containing all the geology maps you currently have added to the OneGeology Portal and the Blue Marble base layer, but will not currently add any of the layers that were automatically selected.</p>
</div></blockquote>
</section>
<section id="opening-a-web-map-context-file-in-the-onegeology-portal">
<h3>Opening a Web Map Context file in the OneGeology Portal<a class="headerlink" href="#opening-a-web-map-context-file-in-the-onegeology-portal" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>To open a Web Map Context document in the OneGeology Portal, you need to select the ‘<em>Load a WMC context</em>’ menu option (folder icon)</p>
<p>You have the choice to ‘<em>Load a Context file (WMC)</em>’ that you have already saved on your PC, or to use a ‘<em>Context URL</em>’, that is a Web Map Context file that has been made available on some web server (as in this figure example).  You also have the option to keep the layers that are already loaded in you map, or to just view the layers in the context file (which is the default option).  Note that currently you still get the automatically selected layers showing, even if you chose not to keep the layers already added.</p>
<figure class="align-default" id="id37">
<a class="reference internal image-reference" href="_images/loadWMC.jpg"><img alt="Loading a Web Map Context document" src="_images/loadWMC.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Loading a Web Map Context document</span><a class="headerlink" href="#id37" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When you have made your selection, click the ‘<em>Load</em>’ button to load the context file and view the saved map session.</p>
<p>Alternatively you can use the external Web Map Context URL as a parameter value to append to the OneGeology Portal URL, to automatically open the map session captured in context file.  This functionality is particularly useful if you want to provide a link to the OneGeology Portal (on a website or in an email to someone) with your map automatically showing.</p>
<p>To do this you need to send a request like:</p>
<p><a class="reference external" href="http://portal.onegeology.org/?language=eng&amp;method=addExternalContext&amp;url=http://ogc.bgs.ac.uk/wmc/IrelandGeologyEdited-wmc.xml">f |url|</a></p>
</div></blockquote>
</section>
<section id="opening-a-wmc-file-in-other-clients">
<h3>Opening a WMC file in other clients<a class="headerlink" href="#opening-a-wmc-file-in-other-clients" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Other clients are known to support Web Map Context documents, for example we could load the example file (<a class="reference external" href="http://ogc.bgs.ac.uk/wmc/IrelandGeologyEdited-wmc.xml">http://ogc.bgs.ac.uk/wmc/IrelandGeologyEdited-wmc.xml</a>) in an OpenLayers client like the one at <a class="reference external" href="http://openlayers.org/dev/examples/wmc.html">http://openlayers.org/dev/examples/wmc.html</a>.  Here we need to copy the contents of the file into the form window and click on the ‘<em>read as new map</em>’ button to view our map.</p>
<figure class="align-default" id="id38">
<a class="reference internal image-reference" href="_images/WMConOLr.jpg"><img alt="Using a OneGeology Portal WMC document in an OpenLayers client" src="_images/WMConOLr.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Using a OneGeology Portal WMC document in an OpenLayers client</span><a class="headerlink" href="#id38" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>If when you load your Web Map Context file you get an error, you should check that the file has the correct XML header, this is because some browsers are known to add an additional XML line at the top of the document when creating the file.  So if you see the following lines at the top of your document:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
  <span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</pre></div>
</div>
<p>You will need to edit it so that is appears as:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="analysis-tools">
<span id="use-portal-thematic-analysis"></span><h2>Analysis tools<a class="headerlink" href="#analysis-tools" title="Permalink to this headline"></a></h2>
<p>We may use ‘<em>Open Layer Details</em>’ (in “Datasets” tab click on dataset name or arrow next to name)  to discover further information about the layers in a map session.  Information that may be revealed in this dialogue is that the layer is available for ‘<em>Analysis</em>’, as in the below example.</p>
<figure class="align-default" id="id39">
<a class="reference internal image-reference" href="_images/ThematicAnal.jpg"><img alt="Layer properties dialogue, showing analysis functionality is available in an active layer." src="_images/ThematicAnal.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Layer properties dialogue, showing analysis functionality is available in an active layer.</span><a class="headerlink" href="#id39" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The analysis tool has two principal functions.</p>
<ol class="arabic simple">
<li><p>Alternative portrayal of WMS/WFS services, where supported. Allowing highlighting of specific lithologies or ages.</p></li>
<li><p>Statistical analysis of map features available in an associated GeoSciML WFS, (Supported v4.0 and v3.2);</p></li>
</ol>
<p>Click on the ‘<em>Analysis</em>’ button to show the options available for the layer.  For example for the New Zealand service layer, “NZL GNS 1:1M Geological Units (GeoSciML WFS)”, there is a <em>Portrayal</em> service and <em>Statistics</em> functionality enabled.</p>
<figure class="align-default" id="id40">
<a class="reference internal image-reference" href="_images/ThematicAnalysisSelection.jpg"><img alt="Analysis options tab" src="_images/ThematicAnalysisSelection.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Analysis options tab</span><a class="headerlink" href="#id40" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="portrayal-services">
<h3>Portrayal Services<a class="headerlink" href="#portrayal-services" title="Permalink to this headline"></a></h3>
<section id="id6">
<h4>GeoSciML<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h4>
<p>The analysis tool offers you two ways to filter your map, you can filter by lithology or you can filter by age via nested hierarchical dropdowns.</p>
<p>The initial view shows the top level filters, simply “Filter by lithology” and “Filter by age”.</p>
<p>If we select “Filter by lithology” we will see a search bar and heirarchical nested GeoSciML vocablary, starting at “<em>Compound material</em>”</p>
<figure class="align-default" id="id41">
<a class="reference internal image-reference" href="_images/ThematicAnalysisQueryBuilder.jpg"><img alt="The portrayal analysis query builder window" src="_images/ThematicAnalysisQueryBuilder.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">The portrayal analysis query builder window</span><a class="headerlink" href="#id41" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The values for the lithology filter options are taken from the <a class="reference external" href="http://resource.geosciml.org/static/vocabulary/cgi/201211/simplelithology.html">CGI Simple Lithology controlled vocabulary</a>.</p>
<p>In the age filter window the initial view shows the ‘<em>Phanerozoic</em>’ and ‘<em>Precambrian</em>’ options.
These options reflect the structure of the underlying controlled vocabularies.</p>
<p>The values for the age filter options come from the ICS 2012 Geologic timescale vocabularies, for example, <a class="reference external" href="http://resource.geosciml.org/classifier/ics/ischart/Phanerozoic">Phanerozoic</a> or <a class="reference external" href="http://resource.geosciml.org/classifier/ics/ischart/Precambrian">Precambrian</a>.</p>
<p>In any window you can refine your selection by drilling down into the hierarchy, and then clicking on an option box to make your filter selection.</p>
<p>In the below figure example, we have expanded the lithology view options by first clicking on the arrow to the left of the text ‘<em>Compound material</em>’ option.  We can continue to expand the hierarchy until we reach a term we would like to query. In this case “Sand”. Select the term you would like to query by clicking on the checkbox on the terms left.</p>
<figure class="align-default" id="id42">
<a class="reference internal image-reference" href="_images/ThematicAnalysisQueryBuilderSearch.jpg"><img alt="Selection of &quot;Sand&quot; from the controlled vocabularies" src="_images/ThematicAnalysisQueryBuilderSearch.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Selection of “Sand” from the controlled vocabularies</span><a class="headerlink" href="#id42" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As well as drilling down through the hierarchy progressively to find the term you wish to filter by, you can also search for terms directly by entering the search term in the box at the top of the respective Age and Lithology window. This will expand the hierarchy and highlight all terms contain all or part of that search text.</p>
<p>Its also possible to select higher level terms such as “Composite genesis material”, this will automaticallu also select all subordinate terms in the hierarchy (See below).</p>
<figure class="align-default" id="id43">
<a class="reference internal image-reference" href="_images/ThematicAnalysisSelectionByAge.jpg"><img alt="Selection of &quot;Composite genesis material&quot; from the controlled vocabularies" src="_images/ThematicAnalysisSelectionByAge.jpg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Selection of “Composite genesis material” from the controlled vocabularies</span><a class="headerlink" href="#id43" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In this (above) example we have selected the New zealand WFS service ‘<em>NZL GNS 1:1M Geological Units (GeoSciML WFS)</em>’ layer, which has GeoSciML-Portrayal attribution.  We then decided to filter by lithology, looking to view only those geology polygons that are attributed as belonging to the “Composite genesis material” class (by ticking the checkbox to the left of the term).  Then we select a colour (red from the dropdox at the top of the tab) with which to apply to all the polygons that match the lithology criteria, and click the “Portrayal” button at the bottom of the analysis tab.</p>
<p>The analysis tool generates an external SLD file like the one below:</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sld:StyledLayerDescriptor</span>
<span class="na">version=</span><span class="s">&quot;1.0.0&quot;</span>
<span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
<span class="na">xmlns:sld=</span><span class="s">&quot;http://www.opengis.net/sld&quot;</span>
<span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
<span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span>
<span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/sld</span>
<span class="s">  http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sld:NamedLayer&gt;</span>
    <span class="nt">&lt;sld:Name&gt;</span>US-DE_DGS_100k_Surficial_Geology<span class="nt">&lt;/sld:Name&gt;</span>
      <span class="nt">&lt;sld:UserStyle&gt;</span>
        <span class="nt">&lt;sld:FeatureTypeStyle&gt;</span>
          <span class="nt">&lt;sld:Rule&gt;</span>
            <span class="nt">&lt;ogc:Filter&gt;</span>
              <span class="nt">&lt;ogc:Or&gt;</span>
                <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
                  <span class="nt">&lt;ogc:PropertyName&gt;</span>representativeAge_uri<span class="nt">&lt;/ogc:PropertyName&gt;</span>
                  <span class="nt">&lt;ogc:Literal&gt;</span>
                    http://resource.geosciml.org/classifier/ics/ischart/Pleistocene
                  <span class="nt">&lt;/ogc:Literal&gt;</span>
                <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
                <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
                  <span class="nt">&lt;ogc:PropertyName&gt;</span>representativeAge_uri<span class="nt">&lt;/ogc:PropertyName&gt;</span>
                  <span class="nt">&lt;ogc:Literal&gt;</span>
                    http://resource.geosciml.org/classifier/ics/ischart/Calabrian
                  <span class="nt">&lt;/ogc:Literal&gt;</span>
                <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
                <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
                  <span class="nt">&lt;ogc:PropertyName&gt;</span>representativeAge_uri<span class="nt">&lt;/ogc:PropertyName&gt;</span>
                  <span class="nt">&lt;ogc:Literal&gt;</span>
                    http://resource.geosciml.org/classifier/ics/ischart/Gelasian
                  <span class="nt">&lt;/ogc:Literal&gt;</span>
                <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
                <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
                  <span class="nt">&lt;ogc:PropertyName&gt;</span>representativeAge_uri<span class="nt">&lt;/ogc:PropertyName&gt;</span>
                  <span class="nt">&lt;ogc:Literal&gt;</span>
                    http://resource.geosciml.org/classifier/ics/ischart/Ionian
                  <span class="nt">&lt;/ogc:Literal&gt;</span>
                <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
                <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
                  <span class="nt">&lt;ogc:PropertyName&gt;</span>representativeAge_uri<span class="nt">&lt;/ogc:PropertyName&gt;</span>
                  <span class="nt">&lt;ogc:Literal&gt;</span>
                    http://resource.geosciml.org/classifier/ics/ischart/UpperPleistocene
                  <span class="nt">&lt;/ogc:Literal&gt;</span>
                <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
              <span class="nt">&lt;/ogc:Or&gt;</span>
            <span class="nt">&lt;/ogc:Filter&gt;</span>
          <span class="nt">&lt;sld:PolygonSymbolizer&gt;</span>
            <span class="nt">&lt;sld:Fill&gt;</span>
              <span class="nt">&lt;sld:CssParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#3366FF<span class="nt">&lt;/sld:CssParameter&gt;</span>
            <span class="nt">&lt;/sld:Fill&gt;</span>
          <span class="nt">&lt;/sld:PolygonSymbolizer&gt;</span>
        <span class="nt">&lt;/sld:Rule&gt;</span>
      <span class="nt">&lt;/sld:FeatureTypeStyle&gt;</span>
    <span class="nt">&lt;/sld:UserStyle&gt;</span>
  <span class="nt">&lt;/sld:NamedLayer&gt;</span>
<span class="nt">&lt;/sld:StyledLayerDescriptor&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>When this external customized SLD file has been generated for our lithology  filter selection, the OneGeology Portal then makes a new <a class="reference external" href="http://maps.dgs.udel.edu/geoserver/DGS_Surficial_and_Contact_Geology/wms?service=WMS&amp;TRANSPARENT=TRUE&amp;version=1.3.0&amp;request=GetMap&amp;STYLES=&amp;EXCEPTIONS=INIMAGE&amp;FORMAT=image/png&amp;CRS=EPSG%3A4326&amp;SLD=http%3A%2F%2Fogc.bgs.ac.uk%2Fsld%2F20130628_1372432351566_OpenLayers.Layer.WMS_991.sld&amp;SAVEDLAYERS=US-DE_DGS_100k_Surficial_Geology&amp;BBOX=39.57931760121924,-75.79289049774037,39.784397224903465,-75.45691470533502&amp;WIDTH=1250&amp;HEIGHT=763&amp;">GetMap request referencing this SLD</a> for our area of selection like:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>http://maps.dgs.udel.edu/geoserver/DGS_Surficial_and_Contact_Geology/wms?
  SERVICE=WMS&amp;
  TRANSPARENT=TRUE&amp;
  VERSION=1.3.0&amp;
  REQUEST=GetMap&amp;
  STYLES=&amp;
  EXCEPTIONS=INIMAGE&amp;
  FORMAT=image/png&amp;
  CRS=EPSG%3A4326&amp;
  SLD=http://portal.onegeology.org/slds/20130628_1372432351566_OpenLayers.Layer.WMS_991.sld&amp;
  SAVEDLAYERS=US-DE_DGS_100k_Surficial_Geology&amp;
  BBOX=39.57931760121924,-75.79289049774037,39.784397224903465,-75.45691470533502&amp;
  WIDTH=1250&amp;
  HEIGHT=763&amp;
</pre></div>
</div>
</div></blockquote>
<p>The resultant custom map (with the GeoSciML-Portrayal filter for “Composite genesis material” polygons applied) is shown below:</p>
<blockquote>
<div><figure class="align-default" id="id44">
<a class="reference internal image-reference" href="_images/ThematicAnalysisSelectionByAgeResult.jpg"><img alt="&quot;Composite genesis material&quot; geology polygons" src="_images/ThematicAnalysisSelectionByAgeResult.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">“Composite genesis material” geology polygons</span><a class="headerlink" href="#id44" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
<p>Similarly, we could filter for some other GeoSciML-Portrayal attribution in the map, such as age, or a combination of lithology and age.</p>
</section>
<section id="earthresourceml-lite">
<h4>EarthResourceML-Lite<a class="headerlink" href="#earthresourceml-lite" title="Permalink to this headline"></a></h4>
<p>You can perform similar portrayal actions to the above on services which are using using EarthResourceML-Lite (ERML) such as the layer “Arctic GTK 1:1M Mineral Resources”.</p>
<figure class="align-default" id="id45">
<a class="reference internal image-reference" href="_images/ERML1.JPG"><img alt="ERML layer &quot;Arctic GTK 1:1M Mineral Resources&quot; displayed" src="_images/ERML1.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">ERML layer “Arctic GTK 1:1M Mineral Resources” displayed</span><a class="headerlink" href="#id45" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In this case the analysis tool again offers you two ways to filter your map, by commodity or by mineral occurence type via nested hierarchical dropdowns.</p>
<figure class="align-default" id="id46">
<a class="reference internal image-reference" href="_images/ERML2.JPG"><img alt="ERML layer analysis tab highlighted" src="_images/ERML2.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">ERML layer analysis tab highlighted</span><a class="headerlink" href="#id46" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The initial view shows the top level filters, “Filter by commodity” and “Filter by mineral occurence type”.</p>
<figure class="align-default" id="id47">
<a class="reference internal image-reference" href="_images/ERML3.JPG"><img alt="ERML Analysis tab detail" src="_images/ERML3.JPG" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">ERML Analysis tab detail</span><a class="headerlink" href="#id47" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If we select “Filter by commodity” we will see a search bar and heirarchical nested ERML vocablary, starting at “<em>Produced commodity</em>”</p>
<p>The values for commodity and mineral occurence type options are taken from the <a class="reference external" href="http://resource.geosciml.org/vocabulary/earthresourceml/2016/">CGI EarthResourceML-Lite - version 2.0.1 controlled vocabulary</a>.</p>
<p>In the below figure example, we have expanded the commodity view options by clicking on the arrow to the left of the text ‘<em>Produced Commodity</em>’ then ‘<em>Metal</em>’ then ‘<em>Base metal</em>’.  We can continue to expand the hierarchy until we reach a term we would like to query. In this case “Copper”. Select the term you would like to query by clicking on the checkbox on the terms left.</p>
<figure class="align-default" id="id48">
<a class="reference internal image-reference" href="_images/ERML4.JPG"><img alt="ERML Analysis tab - selection of commodity - Copper" src="_images/ERML4.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">ERML Analysis tab - selection of commodity - Copper</span><a class="headerlink" href="#id48" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As well as drilling down through the hierarchy progressively to find the term you wish to filter by, you can also search for terms directly by entering the search term in the box at the top of the respective commodity or mineral occurence type window. This will expand the hierarchy and highlight all terms contain all or part of that search text.</p>
<p>Selecting higher level terms such as “Metal”, will automatically also select all subordinate terms in the hierarchy.</p>
<p>In this example we have selected the “Arctic GTK 1:1M Mineral Resources” web service, which has ERML-Portrayal functionality.  We then decided to filter by commodity, looking to view only those points that are attributed as belonging to the “Copper” class (by ticking the checkbox to the left of the term).  Then we select a colour (orange from the dropdox at the top of the tab) with which to apply to all the points that match the commodity criteria, and click the “Portrayal” button at the bottom of the analysis tab.</p>
<figure class="align-default" id="id49">
<a class="reference internal image-reference" href="_images/ERML5.JPG"><img alt="ERML Analysis tab - selection of commodity - Copper. Portrayal button location." src="_images/ERML5.JPG" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-text">ERML Analysis tab - selection of commodity - Copper. Portrayal button location.</span><a class="headerlink" href="#id49" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The resultant custom map with the ERML-Portrayal filter for “Copper” points applied is shown below:</p>
<figure class="align-default" id="id50">
<a class="reference internal image-reference" href="_images/ERML6.JPG"><img alt="ERML Analysis results of Copper selection." src="_images/ERML6.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">ERML Analysis results of Copper selection</span><a class="headerlink" href="#id50" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>An example of the same process results using the ERML-Portrayal filter for “Occurrence” (which includes “Deposit”) points applied is shown below:</p>
<figure class="align-default" id="id51">
<a class="reference internal image-reference" href="_images/ERML7.JPG"><img alt="ERML Analysis results of deposit selection." src="_images/ERML7.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">ERML Analysis results of deposit selection.</span><a class="headerlink" href="#id51" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="statistics">
<h3>Statistics<a class="headerlink" href="#statistics" title="Permalink to this headline"></a></h3>
<p>The statistics functionality of the analysis tool are coupled to a WFS associated with a WMS Layer, this is usually as identified by the presence of a <strong>GeoSciML32_wfs_age_or_litho_queryable</strong> keyword in the layer metadata</p>
<p>The process is similar portrayal actions descibed above.</p>
<p>In this example we are going to use the layer  “BRA CPRM 1:1M Bedrock (GeoSciML WFS) (GeoSciML Portrayal)”.</p>
<figure class="align-default" id="id52">
<a class="reference internal image-reference" href="_images/STATS1.JPG"><img alt="BRA CPRM 1:1M Bedrock (GeoSciML WFS) (GeoSciML Portrayal) layer with statistics capability." src="_images/STATS1.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">BRA CPRM 1:1M Bedrock (GeoSciML WFS) (GeoSciML Portrayal) layer with statistics capability.</span><a class="headerlink" href="#id52" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If the OneGeology Portal detects that your selected layer has an associated GeoSciML v3.2 WFS, then when you open the analysis window you will see the “Statistics” button at the bottom of the tab, next to the “Portrayal” button.</p>
<figure class="align-default" id="id53">
<a class="reference internal image-reference" href="_images/STATS2.JPG"><img alt="BRA CPRM 1:1M Bedrock (GeoSciML WFS) (GeoSciML Portrayal) layer analysis window" src="_images/STATS2.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">BRA CPRM 1:1M Bedrock (GeoSciML WFS) (GeoSciML Portrayal) layer analysis window</span><a class="headerlink" href="#id53" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">statistics</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">able</span> <span class="n">to</span> <span class="n">work</span> <span class="n">when</span> <span class="n">zoomed</span> <span class="ow">in</span> <span class="n">to</span> <span class="n">quite</span> <span class="n">small</span> <span class="n">areas</span><span class="p">;</span> <span class="n">precisely</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">when</span> <span class="n">the</span> <span class="n">spatial</span> <span class="n">resolution</span> <span class="ow">is</span> <span class="n">less</span> <span class="n">than</span> <span class="mf">0.0015</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">a</span> <span class="n">pixel</span> <span class="n">shows</span> <span class="n">less</span> <span class="n">than</span> <span class="mf">0.0015</span> <span class="n">degrees</span> <span class="n">latitude</span> <span class="n">of</span> <span class="n">the</span> <span class="n">ground</span> <span class="n">surface</span><span class="p">),</span> <span class="n">we</span> <span class="n">recommend</span> <span class="n">zooming</span> <span class="n">onto</span> <span class="n">the</span> <span class="n">area</span> <span class="n">you</span> <span class="n">are</span> <span class="n">interested</span> <span class="ow">in</span> <span class="n">until</span> <span class="n">the</span> <span class="n">scale</span> <span class="n">bar</span> <span class="ow">is</span> <span class="mi">500</span> <span class="n">m</span> <span class="ow">or</span> <span class="n">smaller</span><span class="o">.</span> <span class="n">When</span> <span class="n">viewing</span> <span class="n">the</span> <span class="nb">map</span> <span class="k">if</span> <span class="n">you</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">zoomed</span> <span class="ow">in</span> <span class="n">far</span> <span class="n">enough</span> <span class="n">you</span> <span class="n">will</span> <span class="n">see</span> <span class="n">a</span> <span class="n">red</span> <span class="n">pop</span> <span class="n">up</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">lower</span> <span class="n">left</span> <span class="n">of</span> <span class="n">the</span> <span class="n">canvas</span><span class="o">.</span>

<span class="n">If</span> <span class="n">you</span> <span class="n">get</span> <span class="n">this</span> <span class="n">error</span> <span class="n">it</span><span class="s1">&#39;s recommended you refresh the portal, and then zoom in further to the area of interest.::</span>
</pre></div>
</div>
<figure class="align-default" id="id54">
<a class="reference internal image-reference" href="_images/STATS3.JPG"><img alt="Appropriate zoom for statistical analysis" src="_images/STATS3.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Appropriate zoom for statistical analysis.</span><a class="headerlink" href="#id54" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Make your filter selection, by age or lithology, in the same way as described for the GeoSciML-Portrayal section. In the below example we have first selected the ‘Rock’ option and applied a green portrayal filter.</p>
<figure class="align-default" id="id55">
<a class="reference internal image-reference" href="_images/STATS4.JPG"><img alt="GeoSciML portrayal results of &quot;Rock&quot; selection." src="_images/STATS4.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">GeoSciML portrayal results of “Rock” selection.</span><a class="headerlink" href="#id55" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If we now click the “Statistics” button we will see the results below.</p>
<figure class="align-default" id="id56">
<a class="reference internal image-reference" href="_images/STATS5.JPG"><img alt="Statistics results shown below filter options and buttons." src="_images/STATS5.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Statistics results shown below filter options and buttons.</span><a class="headerlink" href="#id56" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id57">
<a class="reference internal image-reference" href="_images/STATS6.JPG"><img alt="Statistics results detail shown below filter options and buttons." src="_images/STATS6.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Statistics results detail shown below filter options and buttons.</span><a class="headerlink" href="#id57" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The statistical analysis can be run on any of the attributes in the dataset in the canvas extent using the the “Please choose a field:” dropdowns, such as OlderNamedAge or  CompositionPart.</p>
<figure class="align-default" id="id58">
<a class="reference internal image-reference" href="_images/STATS7.png"><img alt="Alternative statistics results." src="_images/STATS7.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Alternative statistics results.</span><a class="headerlink" href="#id58" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id59">
<a class="reference internal image-reference" href="_images/STATS8.JPG"><img alt="Alternative statistics results." src="_images/STATS8.JPG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Alternative statistics results.</span><a class="headerlink" href="#id59" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="using-onegeology-data">
<h1>Using OneGeology Data<a class="headerlink" href="#using-onegeology-data" title="Permalink to this headline"></a></h1>
<p>Data displayed on the OneGeology portal is able to be accessed via other platforms such as QGIS and ArcMap. The following pages show how you may access services using these OGC standards (including those not part of OneGeology) in a number of popular desktop software clients and web based browser applications. We concentrate first on the web based portal provided by OneGeology itself and then cover other commonly available clients.</p>
<ul>
<li><p><a class="reference internal" href="#using-qgis">Using QGIS</a></p></li>
<li><p><a class="reference internal" href="#using-esri">Using ESRI</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#using-arccatalog">Using ArcCatalog</a></p></li>
<li><p><a class="reference internal" href="#using-arcmap">Using ArcMap</a></p></li>
<li><p><a class="reference internal" href="#using-arcpro">Using ArcPRO</a></p></li>
</ul>
<p>The documentation for the following clients has not been updated for several years so may not be up-to-date.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#using-nasa-world-wind">Using NASA World Wind</a></p></li>
<li><p><a class="reference external" href="http://www.onegeology.org/howto/1_4_6.html">Using Google Earth</a></p></li>
<li><p><a class="reference internal" href="#using-gaia">Using Gaia</a></p></li>
<li><p><a class="reference external" href="http://www.onegeology.org/howto/1_4_5.html">Using Dapple</a></p></li>
<li><p><a class="reference external" href="http://www.onegeology.org/howto/1_4_8.html">Using MapInfo</a></p></li>
<li><p><a class="reference internal" href="#using-udig">Using uDig</a></p></li>
</ul>
</li>
</ul>
<section id="using-qgis">
<h2>Using QGIS<a class="headerlink" href="#using-qgis" title="Permalink to this headline"></a></h2>
<p>Quantum GIS (QGIS) is a user friendly Open Source Geographic Information System (GIS) licensed under the <a class="reference external" href="http://www.gnu.org/copyleft/gpl.html">GNU General Public License</a> (<a class="reference external" href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a>). QGIS is an official project of the <a class="reference external" href="http://www.osgeo.org/">Open Source Geospatial Foundation (OSGeo)</a> (<a class="reference external" href="http://www.osgeo.org/">http://www.osgeo.org/</a>). It runs on Linux, Unix, Mac OSX, and Windows and supports numerous vector, raster, and database formats and functionalities.</p>
<p>The current stable version of QGIS (QGIS 2.18) is available for download from <a class="reference external" href="https://www.qgis.org/en/site/forusers/download.html">https://www.qgis.org/en/site/forusers/download.html</a></p>
<p>Quantum GIS (QGIS) supports WMS versions 1.3.0 (and lower) with GetCapabilities, GetMap, GetFeatureInfo, GetLegendGraphic, layer transparency, and provides a metadata browser for the service.</p>
<section id="using-qgis-to-view-wms">
<h3>Using QGIS to view WMS<a class="headerlink" href="#using-qgis-to-view-wms" title="Permalink to this headline"></a></h3>
<figure class="align-default" id="id60">
<img alt="QGIS menu option for adding a WMS" src="_images/qgis_addWMS.png" />
<figcaption>
<p><span class="caption-text">Figure 1 - QGIS menu option for adding a WMS</span><a class="headerlink" href="#id60" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To add a WMS layer from the menu, choose <em>Layer &gt; Add Layer &gt; Add WMS/WMTS Layer</em>. Alternatively, click on the <img alt="wmsBtn" src="_images/qgis_btnWMS.png" /> button on the <em>Manage Layers Toolbar</em>. In the <em>Add Layer(s) from a WM(T)S Server</em> pop-up box click the <em>New</em> button, and then in the <em>Create a new WMS connection</em> pop-up add a name for your service, such as OneGeology shapefile exemplar (fcgi) using MapServer 6 and the service URL (with no parameters) as below and then click ‘OK’.</p>
<p>We recommend using no parameters (above), so that you get the latest version of the WMS service. If you are testing your own system and you want to test a particular version you can add that version as a parameter; such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://ogc.bgs.ac.uk/fcgi-bin/exemplars/BGS_Bedrock_and_Superficial_Geology/wms?version=1.1.1&amp;
</pre></div>
</div>
<figure class="align-default" id="id61">
<img alt="Adding a new WMS Service" src="_images/qgis_addNewWMSService.png" />
<figcaption>
<p><span class="caption-text">Figure 2 - Adding a new WMS Service</span><a class="headerlink" href="#id61" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>As with most other clients at this stage all you’ve done is add the WMS service to the list of available WMS services. To add a layer you need to select the WMS service from the <em>Add Layer(s) from a WM(T)S Server</em> pop-up box, and click ‘Connect’. This will show you a list of the layers being served from the WMS service.</p>
<p>If you are behind a firewall, you may also need to add information about your proxy server. This is done through the <em>Settings &gt; Options</em> menu in the <em>Network</em> section.</p>
<p>Click on the layer you want and click ‘Add’, this will add that layer in the background, but keep the pop-up window to allow you to add another layer. Press <em>Ctrl</em> and click again on a selected layer to deselect it.</p>
<figure class="align-default" id="id62">
<img alt="Selecting layers" src="_images/qgis_selectWMSLayers.png" />
<figcaption>
<p><span class="caption-text">Figure 3 - Selecting layers</span><a class="headerlink" href="#id62" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Note, if you select several layers (using <em>Ctrl</em> or <em>Shift</em> keys) and then click Add, QGIS will show those selected WMS layers as a single ‘derived’ layer in the GIS. In this example we have joined the bedrock lithostratigraphy and the superficial lithostratigraphy geology layers to create a single layer which we name ‘Lithostratigraphy’. Note you can rename any WMS layer to one that suits your needs, change the layer CRS, and change the layer image encoding (the default is png).</p>
<figure class="align-default" id="id63">
<img alt="Creating derived layers" src="_images/qgis_createDerivedWMSLayers.png" />
<figcaption>
<p><span class="caption-text">Figure 4 - Creating derived layers</span><a class="headerlink" href="#id63" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If the selected layer is set to be queryable in the WMS service, you may use the identify tool to retrieve information on any feature in the map.</p>
<figure class="align-default" id="id64">
<img alt="WMS feature identification" src="_images/qgis_WMSIdentify.png" />
<figcaption>
<p><span class="caption-text">Figure 5 - WMS feature identification</span><a class="headerlink" href="#id64" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You may right click on any layer in the layer list and go to <em>Properties</em> to get the metadata for that layer and the serivce that serves it.</p>
<figure class="align-default" id="id65">
<img alt="Layer properties metadata" src="_images/qgis_WMSMetadataProperties.png" />
<figcaption>
<p><span class="caption-text">Figure 6 - Layer properties metadata</span><a class="headerlink" href="#id65" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="using-qgis-to-access-simple-feature-wfs">
<span id="use-qgis-simple-wfs"></span><h3>Using QGIS to access simple feature WFS<a class="headerlink" href="#using-qgis-to-access-simple-feature-wfs" title="Permalink to this headline"></a></h3>
<p>To add a WFS layer you need to go through a similar process as you do to add a WMS layer, that is, you must first add the WFS service by clicking on the <img alt="wfsBtn" src="_images/qgis_btnWFS.png" /> tool on the <em>Manage Layers Toolbar</em>, then connect to the service, then select the layer you want to add. Even if the WFS service URL is the same as a WMS connection you already have listed you will need to add the WFS service URL.</p>
<figure class="align-default" id="id66">
<img alt="Adding a new WFS service" src="_images/qgis_addNewWFSService.png" />
<figcaption>
<p><span class="caption-text">Figure 7 - Adding a new WFS service</span><a class="headerlink" href="#id66" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When you add a WFS layer you can choose to request all the features of that layer, or you may choose to request only those features that overlap the current extent, depending on whether the option <em>Only request features overlapping the view extent</em> is enabled. This will allow you to download and add to your map only the features relevant to your area of interest. However, if you change your extent by panning or zooming the map, new features will be fetched for your new view extent.</p>
<figure class="align-default" id="id67">
<img alt="Adding a new WFS service" src="_images/qgis_addWFSLayer.png" />
<figcaption>
<p><span class="caption-text">Figure 7 - Adding a new WFS service</span><a class="headerlink" href="#id67" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Below we have zoomed to the full extent of the WFS layer, therefore all features for that layer have been returned. Individual feature attributes can be inspected by using the <em>Identify</em> tool or by opening the <em>Attribute Table</em>.</p>
<figure class="align-default" id="id68">
<img alt="Identifying WFS features" src="_images/qgis_WFSIdentify.PNG" />
<figcaption>
<p><span class="caption-text">Figure 8 - Identifying WFS features</span><a class="headerlink" href="#id68" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When we view a WFS service, it should be noted that we actually download a representation of the data itself, not an image. We can therefore save a copy of that data for re-use elsewhere. Simple right click on the layer and go to <em>Save As</em>. Exporting formats include <strong>ESRI Shapefile</strong> and <strong>GeoJSON</strong>. Exported data can be limited to selected features or to features in the current map extent.</p>
<figure class="align-default" id="id69">
<img alt="Exporting WFS layer" src="_images/qgis_wfsExport.PNG" />
<figcaption>
<p><span class="caption-text">Figure 9 - Exporting WFS layer</span><a class="headerlink" href="#id69" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="using-qgis-to-view-wcs">
<h3>Using QGIS to view WCS<a class="headerlink" href="#using-qgis-to-view-wcs" title="Permalink to this headline"></a></h3>
<p>Adding a WCS layer is again a similar process than adding a WMS layer:</p>
<ul class="simple">
<li><p>Add the WCS service by clicking on the <img alt="wcsBtn" src="_images/qgis_btnWCS.png" /> button on the <em>Manage Layers Toolbar</em></p></li>
<li><p>Connect to the service</p></li>
<li><p>Select the layer you want to add</p></li>
</ul>
<figure class="align-default" id="id70">
<img alt="Creating a connection to a WCS service" src="_images/qgis_addNewWCSService.png" />
<figcaption>
<p><span class="caption-text">Figure 10 - Creating a connection to a WCS service</span><a class="headerlink" href="#id70" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Only one layer can be selected at a time. After selecting it, and choosing your favourite format, click ‘Add’. Repeat this process if you wand to add more layers and then click ‘Close’.</p>
<figure class="align-default" id="id71">
<img alt="Adding a WCS layer" src="_images/qgis_addNewWCSService.png" />
<figcaption>
<p><span class="caption-text">Figure 11 - Adding a WCS layer</span><a class="headerlink" href="#id71" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Your layer(s) should now be displaying on the map.</p>
<figure class="align-default" id="id72">
<img alt="Displaying a WCS layer" src="_images/qgis_displayWcsLayer.png" />
<figcaption>
<p><span class="caption-text">Figure 12 - Displaying a WCS layer</span><a class="headerlink" href="#id72" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>WCS layers can be exported as rasters. To do so, right click on the layer and go to <em>Save As</em>. You can choose to crop the exported raster by specifying an extent or getting the current map extent.</p>
<figure class="align-default" id="id73">
<img alt="Exporting a WCS layer" src="_images/qgis_exportWCSLayer.png" />
<figcaption>
<p><span class="caption-text">Figure 13 - Exporting a WCS layer</span><a class="headerlink" href="#id73" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>See: <a class="reference external" href="https://docs.qgis.org/testing/en/docs/user_manual/working_with_ogc/ogc_client_support.html">https://docs.qgis.org/testing/en/docs/user_manual/working_with_ogc/ogc_client_support.html</a></p>
</section>
</section>
<section id="using-esri">
<h2>Using ESRI<a class="headerlink" href="#using-esri" title="Permalink to this headline"></a></h2>
<p>The ArcGIS software package comes with several applications. Here we’ll briefly show how to use <strong>ArcCatalog</strong> to setup OGC service connections and how to use <strong>ArcMap</strong> to deal with OGC layers.</p>
<p>The following notes are based on ESRI ArcGIS server version 10.5 (SP1).</p>
<section id="using-arccatalog">
<h3>Using ArcCatalog<a class="headerlink" href="#using-arccatalog" title="Permalink to this headline"></a></h3>
<section id="wms-service-connection">
<h4>WMS Service Connection<a class="headerlink" href="#wms-service-connection" title="Permalink to this headline"></a></h4>
<p>To add a WMS service to your list of available WMS services, on the <em>Catalog Tree</em> window, you use the <em>GIS servers &gt; Add WMS Server</em> option, and then add the Service URL (without parameters). You may select to use the default service version (which would normally be the highest version) or you may force a specified version depending on your needs.</p>
<figure class="align-default" id="id74">
<img alt="Adding a WMS service to the list of available services in ArcCatalog" src="_images/esri_catalog_addingWms.png" />
<figcaption>
<p><span class="caption-text">Figure 1 - Adding a WMS service to the list of available services in ArcCatalog</span><a class="headerlink" href="#id74" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You will be able to preview the service layers in ArcCatalog; however, if the map service is scale layered (only visible at certain scales), you won’t be able to see the map until you have zoomed in to an appropriate scale. Similarly, if the layers are queryable, you will be able to use the information tool to retrieve feature information.</p>
<p>You will not be able to view the legend graphics in ArcCatalog.</p>
<figure class="align-default" id="id75">
<img alt="Reviewing available WMS services in ArcCatalog" src="_images/esri_catalog_reviewingWms.png" />
<figcaption>
<p><span class="caption-text">Figure 2 - Reviewing available WMS services in ArcCatalog</span><a class="headerlink" href="#id75" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The above screen-shot shows a number of WMS (GIS Servers) listed in the left hand menu. These are services that have previously been added to ArcCatalog. To retrieve layer name information, preview, and do GetFeatureInfo requests, you must first double-click on the layer name. This will re-query the service and retrieve only active layers at the time of your query.</p>
</section>
<section id="wfs-service-connection">
<h4>WFS Service Connection<a class="headerlink" href="#wfs-service-connection" title="Permalink to this headline"></a></h4>
<p>This functionality is only available with a <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/latest/extensions/data-interoperability/what-is-the-data-interoperability-extension-.htm">Data Interoperability</a> license. A free alternative to get hold of the data in the WFS would be downloading the features in the WFS using QGIS and then exporting them as an ESRI Shapefile (see section <em>Using QGIS to view WFS</em>).</p>
<p>If you do have a Data Interoperability license, on the <em>Catalog Tree</em> window go to <em>Interoperability Connections &gt; Add Interoperability Connection</em> to open the <em>Interoperability Connection</em> dialog. In the dialog, select WFS as format and enter the WFS url in the <em>Dataset</em> option.</p>
<figure class="align-default" id="id76">
<img alt="Connecting to a WFS service in ArcCatalog" src="_images/esri_catalog_connectingWfs.png" />
<figcaption>
<p><span class="caption-text">Figure 3 - Connecting to a WFS service in ArcCatalog</span><a class="headerlink" href="#id76" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Before clicking <em>OK</em>, go to <em>Parameters</em> and select the <em>Feature Types</em> to download. <em>Feature Types</em> aren’t selected by default, so you’ll need to do this step if you want to see any layer in your WFS connection. The <em>WFS Parameters</em> dialog also allows you to set many other options, as shown in the picture below. Once you’re happy with your settings click <em>OK</em> to close this dialog and <em>OK</em> again to create the WFS connection.</p>
<figure class="align-default" id="id77">
<img alt="WFS Parameters dialog" src="_images/esri_catalog_parametersWfs.png" />
<figcaption>
<p><span class="caption-text">Figure 4 - WFS Parameters dialog</span><a class="headerlink" href="#id77" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When you create a connection, you might see that multiple versions of your layer have been created in different geometries. Refresh your connection (right click on layer and go to <em>Refresh</em>) and only the relevant geometry will be kept.</p>
<figure class="align-default" id="id78">
<img alt="WFS connection showing all available geometries" src="_images/esri_catalog_allGeometriesWfs.png" />
<figcaption>
<p><span class="caption-text">Figure 5 - WFS connection showing all available geometries</span><a class="headerlink" href="#id78" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>You can preview and identify individual features in a layer from a WFS connection by selecting the layer and going to the <em>Preview</em> tab.</p>
<figure class="align-default" id="id79">
<img alt="Previewing and identifying a WFS layer" src="_images/esri_catalog_reviewingWfs.png" />
<figcaption>
<p><span class="caption-text">Figure 6 - Previewing and identifying a WFS layer</span><a class="headerlink" href="#id79" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wcs-service-connection">
<h4>WCS Service Connection<a class="headerlink" href="#wcs-service-connection" title="Permalink to this headline"></a></h4>
<p>Adding a WCS service to your list of available WCS services is identical than doing it for a WMS service: on the <em>Catalog Tree</em> window go to <em>GIS servers &gt; Add WMS Server</em> option and then add the Service URL (without parameters). You may select to use the default service version (which would normally be the highest version) or you may force a specified version depending on your needs.</p>
<figure class="align-default" id="id80">
<img alt="Adding a WCS service to the list of available services in ArcCatalog" src="_images/esri_catalog_addingWcs.png" />
<figcaption>
<p><span class="caption-text">Figure 7 - Adding a WCS service to the list of available services in ArcCatalog</span><a class="headerlink" href="#id80" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Your WCS will now be available within the list of GIS Servers.</p>
<figure class="align-default" id="id81">
<img alt="Previewing WCS layers in ArcCatalog" src="_images/esri_catalog_reviewingWcs.png" />
<figcaption>
<p><span class="caption-text">Figure 7 - Previewing WCS layers in ArcCatalog</span><a class="headerlink" href="#id81" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="using-arcmap">
<h3>Using ArcMap<a class="headerlink" href="#using-arcmap" title="Permalink to this headline"></a></h3>
<p>In ArcMap you can use the <em>Add Data</em> button (<img alt="addDataBtn" src="_images/esri_map_addDataBtn.PNG" />) to add an WMS, WFS or WCS layer or simply drag-and-drop a layer from the <em>Catalog</em> window. This window is the equivalent to the <em>Catalog Tree</em> window in ArcCatalog and can be enabled by pressing <img alt="addCatalogBtn" src="_images/esri_map_catalogBtn.PNG" />. OGC service connections are usually created in ArcCatalog before the data is used in ArcMap; however, the connections can also be set at the time of adding the data.</p>
<figure class="align-default" id="id82">
<img alt="Adding data to ArcMap" src="_images/esri_map_addingData.PNG" />
<figcaption>
<p><span class="caption-text">Figure 8 - Adding data to ArcMap</span><a class="headerlink" href="#id82" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="wms-layers">
<h4>WMS Layers<a class="headerlink" href="#wms-layers" title="Permalink to this headline"></a></h4>
<p>WMS layers in ArcMap behave differently than other ESRI native layers. For instance, they are arranged in hierarchical entries which can’t be rearranged. This tipically includes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Service</span> <span class="n">name</span>
    <span class="o">-</span> <span class="n">Group</span> <span class="n">layer</span>
        <span class="o">-</span> <span class="n">Actual</span> <span class="n">layers</span>
</pre></div>
</div>
<p>However there can be multiple or even nested group layers. Also, the only way to get information about feature attributes in a WMS layer is through the <em>Identify</em> tool, as shown in the previous section.</p>
<p>If the map is scale layered (layers are shown greyed out) you may use the <em>Zoom to Make Visible</em> option. This zooms into the layer to the scale cited in the layer below which the layer will be visible, that is you need to zoom in a little bit further using the zoom tool to be able to view the map.</p>
<p>If you are going to provide scale layered data, it is suggested that you also provide an outline coverage map viewable at all scales to allow users to pan around the area of interest, without needing to zoom in first.</p>
<figure class="align-default" id="id83">
<img alt="Accessing the Zoom to make visible tool in ArcMap for scale layered data" src="_images/esri_map_zoomVisibleWms.PNG" />
<figcaption>
<p><span class="caption-text">Figure 9 - Accessing the <em>Zoom to make visible</em> tool in ArcMap for scale layered data</span><a class="headerlink" href="#id83" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>There are two ways you can view the legend for any layer. First off you can use the ‘Add WMS legend to map’ option, which will overlay a large copy of the legend on top of your map window. You will probably need to move or resize this legend graphic in order to see your map.</p>
<figure class="align-default" id="id84">
<img alt="Adding a WMS legend to a map in ArcMap" src="_images/esri_map_addLegendWms.PNG" />
<figcaption>
<p><span class="caption-text">Figure 10 - Adding a WMS legend to a map in ArcMap</span><a class="headerlink" href="#id84" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The legend will scale to the initial scale of your map and will not redraw (rescale) if you change the scale of your map view.</p>
<figure class="align-default" id="id85">
<img alt="WMS legend displayed on the map layer in ArcMap" src="_images/esri_map_lgndDisplayWms.PNG" />
<figcaption>
<p><span class="caption-text">Figure 11 - WMS legend displayed on the map layer in ArcMap</span><a class="headerlink" href="#id85" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Alternatively, you may use the layer properties dialogue to save a copy of the legend. To do so use the <em>Legend URL</em> or right click on the legend image and go to <em>Save As</em>. If your layer presents multiple styles, they will be available in the drop down menu of this dialog.</p>
<figure class="align-default" id="id86">
<img alt="Saving a WMS legend graphic to file in ArcM" src="_images/esri_map_lgndSaveWms.PNG" />
<figcaption>
<p><span class="caption-text">Figure 12 - Saving a WMS legend graphic to file in ArcMap</span><a class="headerlink" href="#id86" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>For more information about WMS layers go to <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/latest/map/web-maps-and-services/using-wms-service-layers.htm">Using WMS service layers</a></p>
</section>
<section id="wfs-layers">
<h4>WFS Layers<a class="headerlink" href="#wfs-layers" title="Permalink to this headline"></a></h4>
<p>WFS layers behave in ArcMap like any other type of vector layer. You can, for instance, identify individual features, see feature attributes in the <em>Attribute Table</em>, join the layer to other dataset or apply symbology.</p>
<figure class="align-default" id="id87">
<img alt="WFS layer displayed in ArcMap showing attributres and custom symbology" src="_images/esri_map_wfs.PNG" />
<figcaption>
<p><span class="caption-text">Figure 13 - WFS layer displayed in ArcMap showing attributres and custom symbology</span><a class="headerlink" href="#id87" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To export features from a WFS layer to ESRI proprietary formats, such as a <strong>Shapefile</strong>, right click on the layer and go to <em>Data &gt; Export Data</em>. Note that you can export subsets of the layer by choosing only selected features or features within the view extent.</p>
<figure class="align-default" id="id88">
<img alt="Exporting a WFS layer to a proprietary format in ArcMap" src="_images/esri_map_exportProprietaryWfs.PNG" />
<figcaption>
<p><span class="caption-text">Figure 14 - Exporting a WFS layer to a proprietary format in ArcMap</span><a class="headerlink" href="#id88" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To export features to an open format, like <strong>GeoJSON</strong>, you’ll need to use the <em>Quick Export</em> tool, only available with the <em>Data Interoperability</em> license. If features are selected, this tool will only export selected features. You can also return feaures from a given extent by going to the tool’s environments and defining an extent in the <em>Processing Extent</em> section.</p>
<figure class="align-default" id="id89">
<img alt="Exporting a WFS layer to an open format in ArcMap" src="_images/esri_map_exportOpenWfs.PNG" />
<figcaption>
<p><span class="caption-text">Figure 15 - Exporting a WFS layer to an open format in ArcMap</span><a class="headerlink" href="#id89" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wcs-layers">
<h4>WCS Layers<a class="headerlink" href="#wcs-layers" title="Permalink to this headline"></a></h4>
<p>WCS layers operate in a similar way to other raster data but with a few less properties. For more information on available properties go to <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/latest/map/web-maps-and-services/adding-a-wcs-service-to-arcmap.htm">Adding a WCS service to ArcMap</a>.</p>
<figure class="align-default" id="id90">
<img alt="Displaying WCS data in ArcMap" src="_images/esri_map_displayWcs.PNG" />
<figcaption>
<p><span class="caption-text">Figure 16 - Displaying WCS data in ArcMap</span><a class="headerlink" href="#id90" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To export a WCS layer, right click on it and go to <em>Data &gt; Export Data</em>. The <em>Export WCS Data</em> dialog will allow you to set the extent, format or cell size of the exported data.</p>
<figure class="align-default" id="id91">
<img alt="Displaying WCS data in ArcMap" src="_images/esri_map_exportWcs.png" />
<figcaption>
<p><span class="caption-text">Figure 17 - Displaying WCS data in ArcMap</span><a class="headerlink" href="#id91" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>See: <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/latest/map/web-maps-and-services/about-using-ogc-service-layers.htm">http://desktop.arcgis.com/en/arcmap/latest/map/web-maps-and-services/about-using-ogc-service-layers.htm</a></p>
</section>
</section>
<section id="using-arcpro">
<h3>Using ArcPRO<a class="headerlink" href="#using-arcpro" title="Permalink to this headline"></a></h3>
<p>See: <a class="reference external" href="https://pro.arcgis.com/en/pro-app/help/data/services/ogc-services.htm">https://pro.arcgis.com/en/pro-app/help/data/services/ogc-services.htm</a></p>
</section>
</section>
<section id="using-udig">
<h2>Using uDig<a class="headerlink" href="#using-udig" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Open uDig. The software can be obtained at: <a class="reference external" href="http://udig.refractions.net/">http://udig.refractions.net/</a></p></li>
<li><p>Create a new map, or open an existing map to which you would like to add the web service</p></li>
<li><p>On the upper menu bar, click Layer &gt; Add…</p></li>
<li><p>In the window that appears, click Web Map Server or Web Feature Server, as appropriate; click Next</p></li>
<li><p>Paste the service endpoint in the URL field; click Next</p></li>
<li><p>In the Resource Selection window that appears, select all layers you wish to add. When you are done, click Finish</p></li>
</ul>
</section>
<section id="using-gaia">
<h2>Using Gaia<a class="headerlink" href="#using-gaia" title="Permalink to this headline"></a></h2>
<p>Gaia: <a class="reference external" href="http://www.thecarbonproject.com/gaia.php">http://www.thecarbonproject.com/gaia.php</a></p>
<p>Gaia is a free desktop client provided by &amp;#8216;The Carbon Project&amp;#8217;; based on CarbonTools PRO; open-geospatial development tool-kit, and can access an array of geospatial sources such as the Open Geospatial Consortium (OGC) Web Mapping Service (WMS), Web Map Tile Service (WMTS), Web Coverage Service (WCS), and Web Feature Service (WFS). We note that the latest version is now 3.4.1 which adds support for WFS-T; but everything in relation to WMS mentioned below still stands.</p>
<p>Gaia 3.4 fully supports all WMS 1.1.1 requests and, GetCapabilities and GetMap requests for WMS 1.3.0.  It provides partial support for version 1.3.0 GetFeatureInfo requests.</p>
<p>Gaia is available both for Windows and Linux (using mono); here we describe using the Windows version.</p>
<p>To add a WMS to Gaia, use the Tools &gt; Add Layer menu option</p>
<figure class="align-default" id="id92">
<img alt="Default view of Gaia 3.4, showing menu options to add WMS services" src="_images/gaia1.jpg" />
<figcaption>
<p><span class="caption-text">Default view of Gaia 3.4, showing menu options to add WMS services</span><a class="headerlink" href="#id92" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id93">
<img alt="Adding a new WMS service to the list of available services" src="_images/gaia2.jpg" />
<figcaption>
<p><span class="caption-text">Adding a new WMS service to the list of available services</span><a class="headerlink" href="#id93" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Select the layer icon (red plus sign)</p>
<p>Give the service a name, and add the service URL (with or without request parameters), select the service type (wms), and version (by default Gaia selects version 1.1.1), and click OK.</p>
<p>This adds the service to the list of available services but doesn’t add it to your map.  To add map layers from the service you need to continue.</p>
<p>The service layers will now be shown in the middle window, and if the service is not scale layered, a map will be shown in the preview window.  Highlighting an individual layer from the service (click on layer name) will give a preview of that layer, to help you determine whether the WMS provides the information you require.  You may further investigate the layer metadata, by clicking on the &amp;#8216;Open Capabilities Analyzer&amp;#8217; button.  When you are happy you have the correct map layer, click the ‘Add Layer’; button.</p>
<figure class="align-default" id="id94">
<img alt="Using the Capabilities Analyzer to review WMS metadata for a map layer" src="_images/gaia3.jpg" />
<figcaption>
<p><span class="caption-text">Using the Capabilities Analyzer to review WMS metadata for a map layer</span><a class="headerlink" href="#id94" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Note, you can force a change in the default behaviour of the service using the Parameters form options, for example, here we are requesting the map to be served as a 24-bit png.&lt;/p&gt;</p>
<p>Like the OneGeology Portal, Gaia supports all standard GIS tools (Zoom in, Zoom out, Pan, Move back and forward through previous map extents, Retrieve Feature Information).&lt;/p&gt;</p>
<figure class="align-default" id="id95">
<img alt="GetFeatureInfo request response in Gaia" src="_images/gaia4.jpg" />
<figcaption>
<p><span class="caption-text">GetFeatureInfo request response in Gaia</span><a class="headerlink" href="#id95" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Double-clicking on the layer in the left hand menu, will bring up the map layer properties window, which allows you to change the layer opacity (transparency), and other parameters as required.  It will also reveal the GetMap request (query) that is being used to display that map layer, at that time.  You may copy and paste that request into any browser to show that map layer.&lt;/p&gt;</p>
<p>A GetMap request for a portion of the BGS bedrock lithostratigraphical data map layer. You can cut and paste this URL into any web browser and get a png format map image.</p>
<p><a class="reference external" href="http://ogc.bgs.ac.uk/cgi-bin/BGS_Bedrock_and_Superficial_Geology/ows?REQUEST=GetMap&amp;amp;SERVICE=WMS&amp;amp;VERSION=1.3.0&amp;amp;LAYERS=GBR_BGS_625k_BLS&amp;amp;STYLES=default&amp;amp;FORMAT=image/png;%20mode=24bit&amp;amp;BGCOLOR=0xFFFFFF&amp;amp;TRANSPARENT=TRUE&amp;amp;CRS=EPSG:4326&amp;amp;BBOX=54.0957778123079,-3.54949452254466,54.9267913615873,-2.51587849637481&amp;amp;WIDTH=602&amp;amp;HEIGHT=484&amp;amp">http://ogc.bgs.ac.uk/cgi-bin/BGS_Bedrock_and_Superficial_Geology/ows?REQUEST=GetMap&amp;amp;SERVICE=WMS&amp;amp;VERSION=1.3.0&amp;amp;LAYERS=GBR_BGS_625k_BLS&amp;amp;STYLES=default&amp;amp;FORMAT=image/png;%20mode=24bit&amp;amp;BGCOLOR=0xFFFFFF&amp;amp;TRANSPARENT=TRUE&amp;amp;CRS=EPSG:4326&amp;amp;BBOX=54.0957778123079,-3.54949452254466,54.9267913615873,-2.51587849637481&amp;amp;WIDTH=602&amp;amp;HEIGHT=484&amp;amp</a></p>
<p>The above parameters are specific to the version of the WMS (in this example &amp;#8216;VERSION=1.3.0&amp;#8217;), changing the version number alone, to review how the data might display for that version, will result in an error.&lt;/p&gt;</p>
<p>Note, if you are using Gaia at work (behind a corporate firewall) or otherwise need to go through a proxy to access the web, AND don&amp;#8217;t get any map service showing, you should check that Gaia has picked up your proxy settings; see Tools &gt; Configuration &gt; Proxy Settings.&lt;/p&gt;</p>
</section>
<section id="using-nasa-world-wind">
<h2>Using NASA World Wind<a class="headerlink" href="#using-nasa-world-wind" title="Permalink to this headline"></a></h2>
<p>World Wind: <a class="reference external" href="http://worldwindcentral.com/wiki/Main_Page">http://worldwindcentral.com/wiki/Main_Page</a></p>
<p>NASA World Wind is a free client for viewing data produced by NASA.  It has two versions; a Java based version aimed at software developers for incorporating into their own software (for example Dapple) and a .NET version aimed at standard users.</p>
<p>Here we show you how you can use the .NET version to add and view any WMS service.</p>
<p>Note the .NET version of World Wind is quite picky about the graphics driver you have installed and may crash if your card is not supported, check the World Wind wiki page (above) for a list of supported graphics cards.</p>
<p>To add a WMS to use: Tools &gt; Import WMS url to layer</p>
<figure class="align-default" id="id96">
<img alt="Adding a WMS service to  the list of available WMS services in the .NET version  of NASA World Wind" src="_images/addWMStoWorldWind.jpg" />
<figcaption>
<p><span class="caption-text">Adding a WMS service to  the list of available WMS services in the .NET version  of NASA World Wind</span><a class="headerlink" href="#id96" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the WMS Importer pop-up add the service URL into the text box and click the &amp;#8216;Get WMS Tree&amp;#8217; button.  You should give the output a unique name (by default it will be called wms.xml) and then click the &amp;#8216;Save as XML&amp;#8217; button.&lt;/p&gt;</p>
<p>As with other software, this doesn&amp;#8217;t display the WMS layer, but just adds it to the list of available layers, which are accessible through the Layer Manager.  You must select the layers in Layer Manager and then zoom to your area of interest.&lt;/p&gt;</p>
<figure class="align-default" id="id97">
<img alt="Adding available layers to the globe in .NET NASA World Wind" src="_images/addWMStoWorldWind.jpg" />
<figcaption>
<p><span class="caption-text">Adding available layers to the globe in .NET NASA World Wind</span><a class="headerlink" href="#id97" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="id10">
<h2>Using Dapple<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h2>
<p>Dapple: <a class="reference external" href="http://dapple.geosoft.com/">http://dapple.geosoft.com/</a></p>
<p>The latest release of Dapple (v.2.1.4) supports WMS version 1.3.0.  You must use this version (or higher when they become available) if you want to view any WMS service that supports version 1.3.0. because of a bug in earlier releases.</p>
<p>Note, Dapple doesn’t yet support GetFeatureInfo request, so you will not be able to get any information about a map at a location, by clicking on that map.</p>
<p>Dapple is a data explorer designed to provide an open and optimal environment for visualizing, presenting, and sharing massive quantities of geoscientific data on desktop computers.  Dapple lets you browse, discover, and display graphically rich data from global and corporate spatial servers. The Dapple project is an open-source activity sponsored by Geosoft and derived from the NASA World Wind (<a class="reference external" href="http://worldwind.arc.nasa.gov/">http://worldwind.arc.nasa.gov/</a>) open source project.</p>
<p>As with other GIS software, the first step to viewing a WMS map layer in Dapple is to add the WMS service to the list of available WMS services.  To do this, select the “Servers” menu option and then “Add WMS server”</p>
<figure class="align-default" id="id98">
<img alt="Adding a WMS server to the list of available WMS services in Dapple" src="_images/dapple1.jpg" />
<figcaption>
<p><span class="caption-text">Adding a WMS server to the list of available WMS services in Dapple</span><a class="headerlink" href="#id98" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>In the pop-up window, add the GetCapabilities URL of the service without any parameters; you can supply the “service = WMS” and “request=GetCapabilitie” parameters if you want, but if you supply the version parameter it will be ignored.</p>
<p>For example:</p>
<p><a class="reference external" href="http://ogc.bgs.ac.uk/cgi-bin/BGS_Bedrock_and_Superficial_Geology/wms">http://ogc.bgs.ac.uk/cgi-bin/BGS_Bedrock_and_Superficial_Geology/wms</a></p>
<p>The intention is to always use the highest WMS version supported by the service, but the downside is that you will not be able to use Dapple to test all your service outputs.&lt;/p&gt;</p>
<p>Dapple will add the service to the list of WMS servers and initially show just this new service and the data layers it can serve. If you left click on any of the layers in the Servers window, you will see the metadata associated with that layer in the Metadata window (beneath the map window).&lt;/p&gt;</p>
<p>There are several ways you can add a map layer to your map view: you can use the Tools menu option, you can left click-down and drag to the Data Layers window, or you can right-click on a highlighted layer and add the layer.  In each case the result is the same the layer is added to the data layers view window, and the map is drawn.  Remember, if you drag the layer, you will need to add it to the top of the list, or you might not see it.&lt;/p&gt;</p>
<figure class="align-default" id="id99">
<img alt="Viewing map and metadata in Dapple" src="_images/dapple2.jpg" />
<figcaption>
<p><span class="caption-text">Viewing map and metadata in Dapple</span><a class="headerlink" href="#id99" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To view the legend of the active map layer you may click the link in the Metadata section, or you may right-click on any layer, either in the Servers view window or the Data Layers view window, and the legend will open either in browser window, or another application that is enabled to view the legend image type from a web location.&lt;/p&gt;</p>
<figure class="align-default" id="id100">
<img alt="Using the metadata legend link to view the legend information" src="_images/dapple3.jpg" />
<figcaption>
<p><span class="caption-text">Using the metadata legend link to view the legend information</span><a class="headerlink" href="#id100" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="id11">
<h2>Using Google Earth<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h2>
<p>Google Earth: <a class="reference external" href="http://earth.google.co.uk/">http://earth.google.co.uk/</a></p>
<p>Requires a PC with minimum 256MB memory and 3D-capable graphics card with 16MB of VRAM.</p>
<p>A simple way of viewing data in Google Earth is to use a KML file exported from the OneGeology Portal. You may also add a WMS directly, using the Add menu option and then ‘Image Overlay’.</p>
<figure class="align-default" id="id101">
<img alt="Using the image overlay option in Google Earth to add a WMS" src="_images/googleEarth1.jpg" />
<figcaption>
<p><span class="caption-text">Using the image overlay option in Google Earth to add a WMS</span><a class="headerlink" href="#id101" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Give your service a name then select the ‘Refresh’ tab, and click on the ‘WMS parameters button. In the dialogue box, add the Service URL without parameters.</p>
<p>For example:</p>
<p><a class="reference external" href="http://maps.bgs.ac.uk/ArcGIS/services/BGS_Detailed_Geology/MapServer/WMSServer">http://maps.bgs.ac.uk/ArcGIS/services/BGS_Detailed_Geology/MapServer/WMSServer</a>?</p>
<p>Then use the Add button to add one or more of the service layers to your image overlay (each map layer added to your image overlay will be available to be selected/turned on or off later).</p>
<p>The URL field is populated automatically (but note that it doesn’t add the ‘styles’ parameter, and this may cause the map layer to not display correctly (See <cite>Google Earth Issues_</cite>)</p>
<figure class="align-default" id="id102">
<img alt="Selecting WMS layers in Google Earth" src="_images/googleEarth2.jpg" />
<figcaption>
<p><span class="caption-text">Selecting WMS layers in Google Earth</span><a class="headerlink" href="#id102" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>When you zoom into your area of interest Google Earth will tile your map.</p>
<figure class="align-default" id="id103">
<img alt="WMS tiling in Google Earth" src="_images/googleEarth3.jpg" />
<figcaption>
<p><span class="caption-text">WMS tiling in Google Earth</span><a class="headerlink" href="#id103" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="google-earth-issues">
<h3>Google Earth Issues<a class="headerlink" href="#google-earth-issues" title="Permalink to this headline"></a></h3>
<section id="problems-displaying-the-map-layer">
<h4>Problems displaying the map layer<a class="headerlink" href="#problems-displaying-the-map-layer" title="Permalink to this headline"></a></h4>
<p>When adding a WMS layer to Google Earth, you may get a Big Red Cross instead of the map layer you were expecting. This indicates there is an error with that layer. The error may lie either with the GetMap parameters sent by Google Earth to the WMS server, or in the WMS response.</p>
<p>When adding any WMS using the method described above, we have noted that the parameters that Google Earth automatically populates into its form (the Edit Image Overlay Link) are missing the required ‘styles’ parameter. MapServer WMS services do not seem to be affected by this omission, that is, they will serve a map using the default style, but we have noticed that ArcGIS WMS services cannot handle this error, and you will need to add the correct style value to your link. You may look at the GetCapabilities response to get the style or styles you want to be used, or you should just be able to specify a null value, and get the default style.</p>
<figure class="align-default" id="id104">
<img alt="Red cross showing a layer error in Google Earth" src="_images/googleEarth4.jpg" />
<figcaption>
<p><span class="caption-text">Red cross showing a layer error in Google Earth</span><a class="headerlink" href="#id104" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>For example to view the BGS 50k Geology layer in Google Earth you need to use this link:</p>
<p><a class="reference external" href="http://maps.bgs.ac.uk/ArcGIS/services/BGS_Detailed_Geology/MapServer/WMSServer?VERSION=1.1.1&amp;REQUEST=GetMap&amp;SRS=EPSG:4326&amp;WIDTH=512&amp;HEIGHT=512&amp;LAYERS=1&amp;TRANSPARENT=TRUE&amp;FORMAT=image/gif&amp;styles=">http://maps.bgs.ac.uk/ArcGIS/services/BGS_Detailed_Geology/MapServer/WMSServer?VERSION=1.1.1&amp;REQUEST=GetMap&amp;SRS=EPSG:4326&amp;WIDTH=512&amp;HEIGHT=512&amp;LAYERS=1&amp;TRANSPARENT=TRUE&amp;FORMAT=image/gif&amp;styles=</a></p>
</section>
<section id="problems-displaying-a-map-layer-that-spans-the-globe">
<h4>Problems displaying a map layer that spans the globe<a class="headerlink" href="#problems-displaying-a-map-layer-that-spans-the-globe" title="Permalink to this headline"></a></h4>
<p>Google Earth has a problem showing the full contents of a map layer that spans the whole globe. Specifically Google Earth seems to be unable to show coverage from such data layers at the poles and around the antimeridian (the 180th degree meridian). For example we are unable to get a map to display the whole of Russia.</p>
<p>The problem is illustrated below using the WORLD CGMW 1:25M Geologic Units layer. (<a class="reference external" href="http://mapsone.brgm.fr/1GmapserverFR/wms?map=/applications/mapserver/map%20files/Lithology_FR.map&amp;REQUEST=GetMap&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;LAYERS=WORLD_CGMW_25M_GeologicUnits&amp;STYLES=default&amp;FORMAT=image/png&amp;BGCOLOR=0xFFFFFF&amp;TRANSPARENT=TRUE&amp;SRS=EPSG:4326&amp;BBOX=-180,-137.242524916944,180,137.242524916944&amp;WIDTH=602&amp;HEIGHT=459">http://mapsone.brgm.fr/1GmapserverFR/wms?map=/applications/mapserver/map%20files/Lithology_FR.map&amp;REQUEST=GetMap&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;LAYERS=WORLD_CGMW_25M_GeologicUnits&amp;STYLES=default&amp;FORMAT=image/png&amp;BGCOLOR=0xFFFFFF&amp;TRANSPARENT=TRUE&amp;SRS=EPSG:4326&amp;BBOX=-180,-137.242524916944,180,137.242524916944&amp;WIDTH=602&amp;HEIGHT=459</a>)</p>
<p>There is currently no fix for this issue.</p>
<figure class="align-default" id="id105">
<img alt="GetMap response to the OneGeology WORLD CGMW 1:25M Geologic Units map layer showing a web map service with whole globe coverage" src="_images/world-cgmwR.jpg" />
<figcaption>
<p><span class="caption-text">GetMap response to the OneGeology WORLD CGMW 1:25M Geologic Units map layer showing a web map service with whole globe coverage</span><a class="headerlink" href="#id105" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id106">
<img alt="The same OneGeology WORLD CGMW 1:25M Geologic Units map layer in Google Earth showing the display problem at the poles and the antimeridian" src="_images/GE-hole-500.jpg" />
<figcaption>
<p><span class="caption-text">The same OneGeology WORLD CGMW 1:25M Geologic Units map layer in Google Earth showing the display problem at the poles and the antimeridian</span><a class="headerlink" href="#id106" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="using-mapinfo-professional">
<h2>Using MapInfo Professional<a class="headerlink" href="#using-mapinfo-professional" title="Permalink to this headline"></a></h2>
<p>MapInfo Professional allows you to view (GetMap) and query (GetFeatureInfo) a WMS service.  It currently doesn’t support the display of legends (GetLegendGraphic)&lt;/p&gt;</p>
<section id="to-add-a-wms-service-to-the-list-of-available-wms-services">
<h3>To add a WMS service to the list of available WMS services<a class="headerlink" href="#to-add-a-wms-service-to-the-list-of-available-wms-services" title="Permalink to this headline"></a></h3>
<ol class="arabic simple">
<li><p>Select the File &gt; Open Web Service &gt; Open WMS menu option&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id107">
<img alt="Opening a Web Service in MapInfo Professional 11.5" src="_images/MIPopenWS.jpg" />
<figcaption>
<p><span class="caption-text">Opening a Web Service in MapInfo Professional 11.5</span><a class="headerlink" href="#id107" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="2">
<li><p>In the Open WMS Table dialog, select the Servers button at the top right&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id108">
<img alt="Displaying existing WMS services" src="_images/MIPopenTabR.jpg" />
<figcaption>
<p><span class="caption-text">Displaying existing WMS services</span><a class="headerlink" href="#id108" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="3">
<li><p>In the following WMS Servers List dialog, select the Add button at the top right of the dialog.&lt;/p&gt;</p></li>
<li><p>From within the OneGeology Portal, copy the desired layers Service URL:&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id109">
<img alt="Getting the service URL from the OneGeology Portal" src="_images/MIPgetSRVurlr.jpg" />
<figcaption>
<p><span class="caption-text">Getting the service URL from the OneGeology Portal</span><a class="headerlink" href="#id109" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="5">
<li><p>Paste this Service URL into the Server URL field of the WMS Server Information dialog. The adjacent Test URL button can be used to validate this URL:&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id110">
<img alt="Verifying a new WMS service" src="_images/MIPpasteSVurlr.jpg" />
<figcaption>
<p><span class="caption-text">Verifying a new WMS service</span><a class="headerlink" href="#id110" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="6">
<li><p>Press the Get Description button to auto-populate the Description from the server, or enter a name manually, then press OK.&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id111">
<img alt="Adding a new WMS service" src="_images/MIPgetDescR.jpg" />
<figcaption>
<p><span class="caption-text">Adding a new WMS service</span><a class="headerlink" href="#id111" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="7">
<li><p>The WMS server will now appear in the Servers List. Press OK to return to the Open WMS Table dialog.&lt;/p&gt;</p></li>
</ol>
<figure class="align-default" id="id112">
<img alt="Selecting an existing WMS service" src="_images/MIPserversR.jpg" />
<figcaption>
<p><span class="caption-text">Selecting an existing WMS service</span><a class="headerlink" href="#id112" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="to-view-wms-service-layers">
<h3>To view WMS service layers<a class="headerlink" href="#to-view-wms-service-layers" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Select the File &gt; Open Web Service &gt; Open WMS menu option.</p></li>
<li><p>In the Open WMS Table dialog:
- Ensure the desired WMS Server is selected from the drop down list&lt;/li&gt;
- Move the required WMS layers to the right selection window&lt;/li&gt;
- Choose an output name and directory for the resulting MapInfo Professional TAB file&lt;/li&gt;</p></li>
<li><p>Press OK; the data will now be opened in MapInfo Professional&lt;/li&gt;</p></li>
</ul>
<figure class="align-default" id="id113">
<img alt="Selecting WMS layers" src="_images/MIPopenWMStabR.jpg" />
<figcaption>
<p><span class="caption-text">Selecting WMS layers</span><a class="headerlink" href="#id113" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id114">
<img alt="Viewing the WMS data" src="_images/MIPshowWMSr.jpg" />
<figcaption>
<p><span class="caption-text">Viewing the WMS data</span><a class="headerlink" href="#id114" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="to-query-wms-service-layer">
<h3>To query WMS service layer<a class="headerlink" href="#to-query-wms-service-layer" title="Permalink to this headline"></a></h3>
<p>After making a WMS layer selectable (as for example “CAN CGC 1:5M Roche en place” in the above figure), the Info tool can be used. Information will be returned only from layers that are queryable. Layer that are queryable are identified by an Information icon (“i”)</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="providingdata.html" class="btn btn-neutral float-left" title="Providing Data / Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="appendices.html" class="btn btn-neutral float-right" title="Appendices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, OneGeology.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>