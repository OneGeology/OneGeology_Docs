

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Creating MapServer CLASS definitions from ArcView legends &mdash; OneGeology Documentation 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/OneGeology_favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Creating MapServer CLASS definitions from ARCGIS legends" href="appendixc.html" />
    <link rel="prev" title="Converting coordinate system in data files" href="appendixa.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OneGeology Documentation
          

          
            
            <img src="../_static/Onegeology_logo_large.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../providingdata.html">Providing Data / Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../portal.html">Using the OneGeology Portal</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../appendices.html">Appendices</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="appendixa.html">Converting coordinate system in data files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Creating MapServer CLASS definitions from ArcView legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixc.html">Creating MapServer CLASS definitions from ARCGIS legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixd.html">Creating MapServer CLASS definitions using QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixe.html">BGS example service map file</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixf.html">WMS 1.3.0 GetCapabilities response from the BGS OneGeology exemplars service</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixg.html">WMS 1.1.1 GetCapabilities response from the BGS OneGeology exemplars service</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixh.html">Using the MS4W Apache http server as a reverse proxy to Tomcat</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixi.html">OneGeology English keyword dictionary picklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixj.html">How to create a Styled Layer Descriptor (SLD) using Arc2Earth</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixk.html">Recommend ESRI shapefile definitions for GeoSciML-Portrayal</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixl.html">Mapping OneGeology-Europe data model to GeoSciML-Portrayal | OneGeology</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendixL_1.html">Considerations for converting a MapServer based OneGeology-Europe service | OneGeology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OneGeology Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../appendices.html">Appendices</a> &raquo;</li>
        
      <li>Creating MapServer CLASS definitions from ArcView legends</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/appendices/appendixb.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-mapserver-class-definitions-from-arcview-legends">
<h1>Creating MapServer CLASS definitions from ArcView legends<a class="headerlink" href="#creating-mapserver-class-definitions-from-arcview-legends" title="Permalink to this headline">¶</a></h1>
<div class="docutils container" id="outer-container">
<div class="docutils container" id="content">
<div class="fullwidth docutils container">
<p class="technical-progress-side-menu rubric" id="appendix-b-creating-mapserver-class-definitions-from-arcview-legends">Appendix B: Creating MapServer CLASS definitions
from ArcView legends</p>
<p>The Gix Export Tool can help you create the CLASS sections of
your map file from an ESRI ArcView 3.x .apr file. This tool
converts ESRI ArcView 3.x (NOT ArcMap) projects to common open
source alternatives including a MapServer map file. (Please
note that this tool has only been used to convert simple
symbology e.g. geology polygons symbolized by a solid colour
according to its lithology value. Its ability to convert more
complex symbology has not been tested.) Download the <a class="reference external" href="http://gix.sourceforge.net/">Gix
Export Tool</a>
(<a class="reference external" href="http://gix.sourceforge.net/">http://gix.sourceforge.net/</a>). Run the executable and follow
the instructions to install the tool as an ArcView 3.x
extension. Having installed the Gix Export Tool, create or open
an ArcView project containing your symbolized data.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView1.jpg"><img alt="ArcView map view showing symbolized data" src="../_images/ArcView1.jpg" style="width: 600px; height: 466px;" /></a></div>
<div class="line">ArcView map view showing symbolized data</div>
</div>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView2.jpg"><img alt="Loading the Gix ArcView extension 1" src="../_images/ArcView2.jpg" style="width: 600px; height: 490px;" /></a></div>
<div class="line">Loading the Gix ArcView extension 1</div>
</div>
<p>Load the Gix Export Tool Extension (File — Extensions, tick
required extension, click OK).</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView3.jpg"><img alt="Loading the Gix ArcView extension 2" src="../_images/ArcView3.jpg" style="width: 600px; height: 501px;" /></a></div>
<div class="line">Loading the Gix ArcView extension 2</div>
</div>
<p>Complete the following steps to convert your project to a
MapServer map file.</p>
<ol class="arabic">
<li><p>Select View — Export View.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView4.jpg"><img alt="ArcView, Exporting your View" src="../_images/ArcView4.jpg" style="width: 600px; height: 543px;" /></a></div>
<div class="line">ArcView, Exporting your View</div>
</div>
</li>
<li><p>The first screen asks you to select your output file format
— choose MapServer map file (.map) and click next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView5.jpg"><img alt="Gix export tool, selecting output format" src="../_images/ArcView5.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, selecting output format</div>
</div>
</li>
<li><p>The next screen asks you to select a version (choose
default) and output file. The output file generated will be
a temporary file from which you will cut the CLASS
components and paste them into the master map file you have
been creating elsewhere. Select a location for your output
file and click next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView6.jpg"><img alt="Gix export tool, selecting output file" src="../_images/ArcView6.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, selecting output file</div>
</div>
</li>
<li><p>The next screen asks for details of the main and reference
map. You won’t use these sections so accept the defaults and
click next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView7.jpg"><img alt="Gix export tool, details for the main, and reference maps" src="../_images/ArcView7.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, details for the main, and reference maps</div>
</div>
</li>
<li><p>The next screen asks for details of the legend. Again, you
won’t use these sections so accept the defaults and click
next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView8.jpg"><img alt="Gix export tool, details for the legend" src="../_images/ArcView8.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, details for the legend</div>
</div>
</li>
<li><p>The next screen asks for details of the scale bar. Again,
you won’t use these sections so accept the defaults and
click next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView9.jpg"><img alt="Gix export tool, details for the scale bar" src="../_images/ArcView9.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, details for the scale bar</div>
</div>
</li>
<li><p>The next screen asks for details of the OGC metadata. Again,
you won’t use these sections so accept the defaults and
click next.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView10.jpg"><img alt="Gix export tool, OGC metadata details" src="../_images/ArcView10.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, OGC metadata details</div>
</div>
</li>
<li><p>The next screen asks for details of final options. Again,
you won’t use these sections so accept the defaults.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../_images/ArcView11.jpg"><img alt="Gix export tool, character set encoding and symbology options" src="../_images/ArcView11.jpg" style="height: 242px;" /></a></div>
<div class="line">Gix export tool, character set encoding and symbology
options</div>
</div>
</li>
<li><p>Click Finish to create your map file.</p></li>
</ol>
<p>Open up the map file you created in a text editor and complete
the following steps for each layer in your map file:</p>
<ol class="arabic simple">
<li><p>Navigate to the line beginning CLASSITEM</p></li>
<li><p>Highlight from here down to the END #CLASS line associated
with that layer</p></li>
<li><p>Copy and paste the selected lines to an empty text file</p></li>
<li><p>Delete all TEMPLATE ’ template.html’ lines (one for each
class)</p></li>
<li><p>Paste the remaining content into your master map file within
the section for the layer you are dealing with. A good
position is after the END line which closes the METADATA for
that layer.</p></li>
</ol>
<p>If your symbolization in ArcView had polygon boundaries you
will need to remove these from the MapServer symbolization.
This may be easier to do by deleting all the ‘OUTLINECOLOR’
lines from the generated map file than by altering your ArcView
symbolization.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="appendixc.html" class="btn btn-neutral float-right" title="Creating MapServer CLASS definitions from ARCGIS legends" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="appendixa.html" class="btn btn-neutral float-left" title="Converting coordinate system in data files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, OneGeology.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>